# 游戏经济平衡设计方案

> 设计日期：2026-01-25
> 目标：重新平衡游戏经济系统，解决收益低、成本高的问题

## 一、核心数值调整

### 1.1 初始值设定

| 属性 | 初始值 | 说明 |
|------|--------|------|
| 现金 | 50000 元 | 从 50 → 50000，提高 1000 倍 |
| 健康 | 100 | 保持不变 |
| 声誉 | 50 | 保持不变 |
| 进度 | 0 | 保持不变 |
| 质量 | 50 | 保持不变 |

### 1.2 事件收益重新设计

**收益等级划分**：
- **小收益**：+2000 ~ +5000 现金
- **中等收益**：+5000 ~ +15000 现金
- **大收益**：+15000 ~ +30000 现金
- **小损失**：-1000 ~ -3000 现金
- **中等损失**：-3000 ~ -8000 现金
- **大损失**：-8000 ~ -20000 现金

**设计原则**：
- 正面选项平均收益：+8000 现金
- 负面选项平均损失：-5000 现金
- 中性选项：收益或损失较小，但有其他属性加成

### 1.3 材料价格调整

| 材料 | 原价格 | 新价格 | 波动幅度 | 单位 |
|------|--------|--------|----------|------|
| 水泥 | 450 | 45 | ±20% | 元/吨 |
| 钢筋 | 4200 | 420 | ±15% | 元/吨 |
| 砂石 | 120 | 12 | ±25% | 元/立方 |
| 混凝土 | 380 | 38 | ±18% | 元/立方 |

**调整理由**：
- 与事件收益匹配（材料总价几千元级别）
- 囤货 10-100 单位成本几千到几万
- 符合策略玩法预期

### 1.4 关系维护成本调整

| 维护方式 | 原成本 | 新成本 | 关系加成 | 健康影响 |
|----------|--------|--------|----------|----------|
| 应酬吃饭 | 20000 | 2000 | +10 | -2 |
| 节日送礼 | 75000 | 8000 | +18 | - |
| 帮忙办事 | 55000 | 5000 | +25 | - |
| 一起扛事 | 150000 | 12000 | +18 | -5 |

**调整理由**：
- 成本降低 5-15 倍
- 与事件收益匹配（每次维护几千到一万）
- 让关系维护成为可负担的策略选项

---

## 二、季度结算系统设计

### 2.1 季度收入（工资）

**职级工资表**（每季度发放）：

| 职级 | 工资 | 说明 |
|------|------|------|
| 实习生 | -2000 元 | 负数 = 需要交培训费/生活费 |
| 助理工程师 | +5000 元 | 基本工资 |
| 工程师 | +12000 元 | 中级工程师待遇 |
| 高级工程师 | +20000 元 | 高级待遇 |
| 项目经理 | +35000 元 | 管理层薪资 |
| 项目总监 | +55000 元 | 高管薪资 |
| 合伙人 | +100000 元 | 分红制 |

**设计原则**：
- 工资随职级递增
- 早期工资较低，需要靠项目盈利
- 晋升后工资成为稳定收入来源

### 2.2 季度固定支出

**生活成本**（每季度扣除）：

| 项目 | 金额 | 说明 |
|------|------|------|
| 住宿费 | -3000 元 | 工地附近租房 |
| 餐饮费 | -4000 元 | 日常伙食 |
| 交通费 | -1500 元 | 工地通勤 |
| 通讯费 | -500 元 | 电话网络 |
| 其他杂费 | -1000 元 | 日用品等 |
| **合计** | **-10000 元** | 每季度固定生活成本 |

**设计原则**：
- 生活成本固定，不可逃避
- 早期需要精打细算
- 晋升后工资能覆盖生活成本并有盈余

### 2.3 季度结算流程

```
1. 项目收入结算
   - 如果项目完成（进度≥100，质量≥60）：+50000 元
   - 这是主要的收入来源

2. 工资发放
   - 根据当前职级发放工资（可能为负）

3. 生活成本扣除
   - 固定扣除 10000 元

4. 仓储费结算
   - 根据材料库存计算仓储费

5. 关系衰减
   - 所有关系 -2 到 -5

6. 净变化计算
   - 最终现金变化 = 项目收入 + 工资 - 生活成本 - 仓储费

7. 晋升检查
   - 检查是否满足下一职级条件
```

---

## 三、随机事件系统设计

### 3.1 突发奖金事件

**触发时机**：在季度结算后随机触发（10% 概率）

**奖金类型**：

| 事件名称 | 概率 | 奖励 | 描述 |
|----------|------|------|------|
| 年终奖 | 5% | +20000 元 | 公司发放年终奖 |
| 项目奖金 | 4% | +15000 元 | 上个项目表现优异 |
| 索赔成功 | 3% | +8000 元 | 保险索赔到账 |
| 政府补贴 | 3% | +10000 元 | 新能源补贴 |
| 甲方追加款 | 3% | +12000 元 | 追加项目款 |
| 意外之财 | 2% | +5000 元 | 捡到小额意外收入 |

### 3.2 天灾事件

**触发时机**：季度结算后随机触发（5% 概率）

**灾害类型**：

| 事件名称 | 概率 | 损失 | 描述 |
|----------|------|------|------|
| 工伤事故 | 2% | -15000 元，-10 健康 | 工地发生工伤事故 |
| 材料被盗 | 2% | -8000 元 | 工地材料被盗 |
| 暴雨损失 | 2% | -10000 元，-5 进度 | 暴雨导致停工损失 |
| 监理罚款 | 1% | -5000 元，-5 声誉 | 安全问题被罚款 |
| 设备故障 | 1% | -12000 元，-5 进度 | 关键设备故障维修 |
| 工人罢工 | 1% | -8000 元，-5 声誉，-5 进度 | 工资纠纷导致罢工 |

### 3.3 特殊波动事件

**触发时机**：季度结算时随机影响材料价格（15% 概率）

| 事件名称 | 持续时间 | 效果 |
|----------|----------|------|
| 环保风暴 | 2 季度 | 水泥价格 ×1.5 |
| 基建热潮 | 3 季度 | 钢筋价格 ×1.3，水泥 ×1.2 |
| 市场低迷 | 3 季度 | 所有材料价格 ×0.7 |
| 暴雨影响 | 1 季度 | 砂石价格 ×1.5 |

---

## 四、经济平衡验证

### 4.1 单季度预期收支

**早期游戏（实习生职级）**：
- 事件收入：约 15000 元（4 个事件，平均每个 +3750）
- 工资：-2000 元
- 生活成本：-10000 元
- 材料囤货/维护：约 -5000 元
- **净收入**：约 -2000 元

这个设计要求玩家：
- 不能每个季度都囤货/维护关系
- 需要完成项目才能获得大额收入（+50000）

**中期游戏（工程师职级）**：
- 事件收入：约 15000 元
- 工资：+12000 元
- 生活成本：-10000 元
- 材料囤货/维护：约 -5000 元
- **净收入**：约 +12000 元

**后期游戏（项目经理职级）**：
- 事件收入：约 15000 元
- 工资：+35000 元
- 生活成本：-10000 元
- **净收入**：约 +40000 元

### 4.2 晋升节奏预期

| 职级 | 净资产要求 | 预计季度数 |
|------|-----------|----------|
| 实习生 | 0 | 初始 |
| 助理工程师 | 10万 | 2-3 季度 |
| 工程师 | 50万 | 6-8 季度 |
| 高级工程师 | 150万 | 12-15 季度 |
| 项目经理 | 500万 | 25-30 季度 |
| 项目总监 | 1500万 | 50-60 季度 |
| 合伙人 | 5000万 | 80-100 季度 |

**预计游戏时长**：80-100 个季度 ≈ 20-25 个项目

### 4.3 关键平衡点

**项目完成的重要性**：
- 项目收入 +50000 是主要收入来源
- 早期必须完成项目才能维持正现金流
- 中期可以通过材料投机赚钱

**职级晋升的重要性**：
- 工资随职级快速增长
- 后期主要靠工资，不需要每个项目都完美完成

**材料投机策略**：
- 价格波动可以用来套利
- 但囤货有仓储费成本
- 需要预测价格趋势

**关系维护的取舍**：
- 关系影响事件结果
- 但维护成本不低
- 需要选择性地维护关键关系

---

## 五、数值调整清单

### 5.1 需要修改的文件

1. `frontend/src/data/constants.ts`
   - 更新 GAME_CONFIG.initialStats.cash: 50000
   - 更新 RANK_CONFIGS 的 quarterlySalary
   - 更新 MATERIAL_CONFIGS 的 basePrice
   - 更新 MAINTENANCE_OPTIONS 的 costRange

2. `frontend/src/data/events.ts`
   - 全面调整所有事件的 effects 金额值
   - 增加收益 100-1000 倍

3. `frontend/src/store/gameStore.ts`
   - 添加生活成本计算
   - 添加随机事件触发逻辑
   - 更新季度结算流程

4. `frontend/src/pages/QuarterlySettlement.tsx`
   - 添加生活成本显示
   - 添加随机事件触发显示

### 5.2 新增内容

1. **随机事件数据**（新增文件或添加到 events.ts）
   - 奖金事件（6 种）
   - 天灾事件（6 种）
   - 价格波动事件（4 种）

2. **生活成本常量**
   - LIVING_COSTS 配置

