# èƒ½åŠ›ç³»ç»Ÿå¼€å‘æ—¥å¿—

## 2026-01-27

### Bugä¿®å¤ï¼šå­£åº¦ç»“ç®—ç°é‡‘è®¡ç®—é”™è¯¯

**é—®é¢˜æè¿°**ï¼š
- ç”¨æˆ·æŠ¥å‘Šï¼šå½“å‰ç°é‡‘5.8ä¸‡ï¼Œå­£åº¦å‡€å˜åŒ–+8000ï¼Œç‚¹å‡»"è¿›å…¥ä¸‹ä¸€å­£åº¦"åï¼Œtopbaræ˜¾ç¤ºçš„ç°é‡‘ä¸æ˜¯6.6ä¸‡ï¼Œæœ‰æ—¶æ˜¯5.6ä¸‡
- æ˜æ˜¾çš„ç°é‡‘è®¡ç®—é”™è¯¯ï¼Œé‡‘é¢æ²¡æœ‰æ­£ç¡®ç´¯åŠ 

**æ ¹å› åˆ†æ**ï¼ˆRoot Cause Analysisï¼‰ï¼š
1. **æ•°æ®æµè¿½è¸ª**ï¼š
   - `finishQuarter()` åœ¨ç¬¬876-901è¡Œæ­£ç¡®è®¡ç®—å¹¶æ›´æ–°äº† `stats.cash = stats.cash + netChange`
   - `nextQuarter()` åœ¨ç¬¬944è¡Œä½¿ç”¨ `const state = get()` è·å–çŠ¶æ€å¿«ç…§
   - ç¬¬959è¡Œä½¿ç”¨ `let newCash = state.stats.cash` è¯»å–ç°é‡‘

2. **æ ¸å¿ƒé—®é¢˜**ï¼š
   - `nextQuarter()` ä¸­çš„ `get()` è°ƒç”¨è¿”å›çš„æ˜¯å‡½æ•°å¼€å§‹æ—¶çš„çŠ¶æ€å¿«ç…§
   - ç”±äº Zustand çŠ¶æ€æ›´æ–°çš„æ‰¹å¤„ç†æœºåˆ¶ï¼Œè¯¥å¿«ç…§å¯èƒ½ä¸åŒ…å« `finishQuarter()` åˆšåˆšæ›´æ–°çš„ç°é‡‘å€¼
   - å¯¼è‡´æ–°å­£åº¦ä½¿ç”¨çš„æ˜¯æ—§çš„ç°é‡‘å€¼ï¼Œä¸¢å¤±äº†å­£åº¦ç»“ç®—çš„ç°é‡‘å˜åŒ–

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å°† `nextQuarter()` æ”¹ä¸ºä½¿ç”¨ `set()` çš„å‡½æ•°å½¢å¼ï¼š`set((prev) => { ... })`
- `prev` å‚æ•°ä¼šæ¥æ”¶åˆ°æœ€æ–°çš„çŠ¶æ€ï¼ŒåŒ…å« `finishQuarter()` æ›´æ–°åçš„ç°é‡‘
- å°†æ‰€æœ‰å¯¹ `state` çš„å¼•ç”¨æ”¹ä¸º `prev`ï¼Œç¡®ä¿è¯»å–æœ€æ–°æ•°æ®

**æ¶‰åŠæ–‡ä»¶**ï¼š
- `frontend/src/store/gameStoreNew.ts:943-1052` - é‡æ„ `nextQuarter()` æ–¹æ³•

**æµ‹è¯•éªŒè¯**ï¼š
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… å‰ç«¯æ„å»ºæˆåŠŸ
- éœ€è¦æ‰‹åŠ¨æµ‹è¯•å­£åº¦ç»“ç®—æµç¨‹

**æäº¤**: (å¾…æäº¤)

### UXæ”¹è¿›ï¼šå­£åº¦ç»“ç®—äº‹ä»¶é¢„å‘Šç³»ç»Ÿ

**é—®é¢˜æè¿°**ï¼š
- ç”¨æˆ·åé¦ˆï¼šç»“ç®—é¡µé¢æ˜¾ç¤º"å‡€å˜åŒ–+8000ï¼Œç°é‡‘6.6ä¸‡"ï¼Œä½†ç‚¹å‡»"è¿›å…¥ä¸‹ä¸€å­£åº¦"åï¼Œç°é‡‘å˜æˆäº†6.5ä¸‡
- åŸå› ï¼šå­£åº¦å¼€å§‹äº‹ä»¶åœ¨ `nextQuarter()` ä¸­éšæœºç”Ÿæˆå¹¶ç«‹å³åº”ç”¨ï¼Œç”¨æˆ·æ— æ³•é¢„çŸ¥è¿™äº›äº‹ä»¶
- å¯¼è‡´ç”¨æˆ·å›°æƒ‘ï¼š"æˆ‘çš„é’±æ€ä¹ˆåˆå˜äº†ï¼Ÿ"

**æ”¹è¿›æ–¹æ¡ˆï¼ˆæ–¹æ¡ˆAï¼‰**ï¼š
åœ¨ç»“ç®—é¡µé¢æå‰å±•ç¤ºä¸‹å­£åº¦å¼€å§‹äº‹ä»¶é¢„å‘Šï¼Œè®©ç”¨æˆ·çœ‹åˆ°å®Œæ•´çš„ä¿¡æ¯æµã€‚

**å®ç°é€»è¾‘**ï¼š
```
finishQuarter()
  â†“
1. è®¡ç®—æœ¬å­£åº¦æ”¶æ”¯ â†’ ç°é‡‘6.6ä¸‡
2. ç”Ÿæˆï¼ˆä¸åº”ç”¨ï¼‰ä¸‹å­£åº¦å¼€å§‹äº‹ä»¶
3. è®¡ç®—ä¸‹å­£åº¦äº‹ä»¶æ€»å½±å“
4. å­˜å‚¨åˆ° settlement.nextQuarterStartEvents
  â†“
ç»“ç®—é¡µé¢æ˜¾ç¤º
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æœ¬å­£åº¦æ”¶æ”¯ï¼š+8000               â”‚
  â”‚ å½“å‰ç°é‡‘ï¼š6.6ä¸‡                 â”‚
  â”‚                                â”‚
  â”‚ ğŸ”® ä¸‹å­£åº¦å¼€å§‹äº‹ä»¶é¢„å‘Š            â”‚
  â”‚ - çªå‘ç–¾ç—…: -3000ç°é‡‘           â”‚
  â”‚ - æœ‹å‹èµ„åŠ©: +2000ç°é‡‘           â”‚
  â”‚ é¢„æœŸè¿›å…¥ä¸‹å­£åº¦åç°é‡‘ï¼š6.5ä¸‡     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
nextQuarter()
  - è¯»å–å·²ç”Ÿæˆçš„äº‹ä»¶å¹¶åº”ç”¨
  - ç°é‡‘å˜æˆ6.5ä¸‡ âœ… (ç¬¦åˆé¢„æœŸ)
```

**æ¶‰åŠæ–‡ä»¶**ï¼š
- `frontend/src/store/gameStoreNew.ts:903-983` - `finishQuarter()` ä¸­ç”Ÿæˆä¸‹å­£åº¦äº‹ä»¶
- `frontend/src/store/gameStoreNew.ts:1017-1054` - `nextQuarter()` ä» settlement è¯»å–äº‹ä»¶
- `frontend/src/pages/QuarterlySettlementPage.tsx:23-24,293-397` - æ˜¾ç¤ºä¸‹å­£åº¦äº‹ä»¶é¢„å‘Š

**UIè®¾è®¡**ï¼š
- ä½¿ç”¨ç¥ç€è‰²èƒŒæ™¯ï¼ˆamber-50 to orange-50ï¼‰çªå‡ºæ˜¾ç¤ºé¢„å‘ŠåŒºåŸŸ
- åˆ†åˆ«å±•ç¤ºæ¯ä¸ªäº‹ä»¶çš„è¯¦æƒ…ï¼ˆæ ‡é¢˜ã€æè¿°ã€æ•ˆæœï¼‰
- åº•éƒ¨æ±‡æ€»æ‰€æœ‰äº‹ä»¶çš„æ€»å½±å“
- æ˜¾ç¤ºé¢„æœŸè¿›å…¥ä¸‹å­£åº¦åçš„ç°é‡‘é‡‘é¢

**æµ‹è¯•éªŒè¯**ï¼š
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… å‰ç«¯æ„å»ºæˆåŠŸ
- éœ€è¦æ‰‹åŠ¨æµ‹è¯•å­£åº¦ç»“ç®—æµç¨‹

**æäº¤**: (å¾…æäº¤)

---

## 2026-01-26

### å®Œæˆä»»åŠ¡ 1-5

**Task 1: æ‰©å±•ç±»å‹å®šä¹‰** âœ…
- æ‰©å±• PlayerStats æ¥å£æ·»åŠ  workAbility å’Œ luck
- æ·»åŠ  AbilityEffects å’Œ AbilityRequirement æ¥å£
- æ›´æ–° Effects æ¥å£æ”¯æŒæ–°å±æ€§å˜åŒ–
- æäº¤: d9a8602

**Task 2: åˆ›å»ºäººç‰©åˆ›å»ºç±»å‹å’Œéšæœºæ•°æ®** âœ…
- åˆ›å»º shared/types/character.ts
- æ·»åŠ  CharacterCreation æ¥å£
- æ·»åŠ  20 ä¸ªç”·åå’Œ 20 ä¸ªå¥³åçš„éšæœºå§“ååº“
- æ·»åŠ å±æ€§è¯„ä»·æ–‡æ¡ˆç³»ç»Ÿ
- æ›´æ–° shared/types/index.ts å¯¼å‡ºæ–°ç±»å‹
- æäº¤: 606e71f

**Task 3: æ›´æ–°æ¸¸æˆé…ç½®å¸¸é‡** âœ…
- æ·»åŠ å·¥ä½œèƒ½åŠ›å’Œå¹¸è¿åˆå§‹å€¼é…ç½®
- æ·»åŠ å±æ€§æˆé•¿é…ç½®ï¼ˆåŸºç¡€è®­ç»ƒã€é«˜çº§è®­ç»ƒã€æ™‹å‡åŠ æˆï¼‰
- æ·»åŠ è®­ç»ƒå†·å´é…ç½®
- æ·»åŠ 4ç§è®­ç»ƒç±»å‹é…ç½®
- æ·»åŠ éšè—é€‰é¡¹è§£é”é˜ˆå€¼é…ç½®
- æ·»åŠ å…³ç³»åŠ æˆé…ç½®
- åœ¨ STAT_DISPLAY ä¸­æ·»åŠ æ–°å±æ€§æ˜¾ç¤ºé…ç½®
- æäº¤: 8c16bce

**Task 4: æ‰©å±•äº‹ä»¶ç±»å‹æ”¯æŒæ–°å±æ€§å’Œéšè—é€‰é¡¹** âœ…
- EventEffects æ·»åŠ  workAbility å’Œ luck å­—æ®µ
- DecisionOption æ·»åŠ éšè—é€‰é¡¹æ”¯æŒï¼ˆrequiredAbility, hidden, riskFactorï¼‰
- æäº¤: 992011b

**Task 5: åˆ›å»ºäººç‰©åˆ›å»ºé¡µé¢ç»„ä»¶** âœ…
- åˆ›å»º CharacterCreationPage.tsx ç»„ä»¶
- æ”¯æŒå§“åè¾“å…¥/éšæœºã€æ€§åˆ«é€‰æ‹©/éšæœº
- å®ç°å±æ€§æŠ½å¡ç³»ç»Ÿï¼ˆå·¥ä½œèƒ½åŠ›+å¹¸è¿=10ï¼‰
- æ˜¾ç¤ºå±æ€§æ¡å’Œè¯„ä»·æ–‡æ¡ˆ
- ä¿®æ”¹ Home.tsx è·³è½¬åˆ°äººç‰©åˆ›å»ºé¡µé¢
- æ·»åŠ è·¯ç”±é…ç½®
- æäº¤: 3e7692f

### è¿›è¡Œä¸­ä»»åŠ¡

**Task 6: æ‰©å±•æ¸¸æˆçŠ¶æ€ç®¡ç†æ”¯æŒæ–°å±æ€§** (ä¸‹ä¸€æ­¥)
**Task 7: åˆ›å»ºè®­ç»ƒè¡ŒåŠ¨å¡ç‰‡ç»„ä»¶**
**Task 8: å®ç°è®­ç»ƒé€»è¾‘å’Œå†·å´æœºåˆ¶**
**Task 9: å®ç°ä»·æ ¼é¢„æµ‹ç³»ç»Ÿ**
**Task 10: å®ç°ä¸‹å­£åº¦ä»·æ ¼ç”Ÿæˆç®—æ³•**
**Task 11: ä¿®æ”¹äº‹ä»¶å¡ç‰‡æ”¯æŒéšè—é€‰é¡¹**
**Task 12: å®ç°å†’é™©é€‰é¡¹çš„é£é™©åˆ¤å®š**
**Task 13: æ›´æ–°äº‹ä»¶ç»“æœå¡ç‰‡æ˜¾ç¤º**
**Task 14: æ‰©å±•å…³ç³»ç³»ç»Ÿæ”¯æŒå±æ€§å½±å“**
**Task 15: æµ‹è¯•ä¸éªŒè¯**

---

## 2026-01-27

### ä¿®å¤ï¼šæ›¿æ¢ä¸º StockChart ç»„ä»¶

**é—®é¢˜æè¿°ï¼š**
- `StockChart.tsx` ç»„ä»¶å·²åˆ›å»ºä½†æœªè¢«ä½¿ç”¨
- `MarketPage.tsx` ä½¿ç”¨å†…è” SVG å›¾è¡¨ï¼Œå­˜åœ¨é—®é¢˜ï¼š
  - `viewBox` å®½åº¦è®¡ç®—é”™è¯¯ï¼ˆæ•°æ®ç‚¹ä¸º 1 æ—¶å®½åº¦ä¸º 0ï¼‰
  - ç¼ºä¹äº¤äº’åŠŸèƒ½

**ä¿®æ”¹å†…å®¹ï¼š**
- åœ¨ `MarketPage.tsx` ä¸­å¯¼å…¥ `StockChart` ç»„ä»¶
- ç”¨ `StockChart` æ›¿æ¢å†…è” SVG å›¾è¡¨ï¼ˆç¬¬ 215-223 è¡Œï¼‰
- åˆ é™¤ä¸å†ä½¿ç”¨çš„ä»£ç ï¼š`getLineColor`, `getPointColor`, `yAxisSteps`, `yTicks`, `yAxisRange`

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/pages/MarketPage.tsx`

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### ä¿®å¤ï¼šå­£åº¦å¼€å§‹äº‹ä»¶å½±å“ + TopBar æ˜¾ç¤ºäººç‰©å±æ€§

**é—®é¢˜ 1ï¼šå­£åº¦å¼€å§‹äº‹ä»¶å½±å“æœªåº”ç”¨åˆ°äººç‰©å±æ€§**
- **æ ¹å› ï¼š** `gameStoreNew.ts` çš„ `nextQuarter` å‡½æ•°ä¸­åº”ç”¨å­£åº¦å¼€å§‹äº‹ä»¶æ•ˆæœæ—¶ï¼Œåªå¤„ç†äº† `cash`, `health`, `reputation`, `progress`, `quality`ï¼Œé—æ¼äº† `workAbility` å’Œ `luck`
- **ä¿®å¤ï¼š**
  - æ·»åŠ  `newWorkAbility` å’Œ `newLuck` å˜é‡åˆå§‹åŒ–
  - åœ¨äº‹ä»¶æ•ˆæœåº”ç”¨ä¸­æ·»åŠ å¯¹ `workAbility` å’Œ `luck` çš„å¤„ç†
  - åœ¨ `set` çŠ¶æ€æ›´æ–°ä¸­åŒ…å«è¿™ä¸¤ä¸ªå±æ€§

**é—®é¢˜ 2ï¼šTopBar æœªæ˜¾ç¤ºå®Œæ•´äººç‰©å±æ€§**
- **æ ¹å› ï¼š** `TopStatusBar.tsx` åªæ˜¾ç¤ºç°é‡‘ã€å¥åº·ã€å£°èª‰ï¼Œç¼ºå°‘å·¥ä½œèƒ½åŠ›å’Œå¹¸è¿
- **ä¿®å¤ï¼š**
  - æ·»åŠ  `workAbility` å’Œ `luck` çŠ¶æ€è·å–
  - æ·»åŠ æ–°çš„äººç‰©å±æ€§æ˜¾ç¤ºè¡Œï¼ˆå·¥ä½œèƒ½åŠ› + å¹¸è¿ï¼‰
  - å·¥ä½œèƒ½åŠ›ä½¿ç”¨ brand è‰²ç³»ï¼Œå¹¸è¿ä½¿ç”¨ç´«è‰²è‰²ç³»

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/store/gameStoreNew.ts`
- `frontend/src/components/TopStatusBar.tsx`

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### é‡æ„ï¼šåˆ†ç¦»äººç‰©å±æ€§å’Œé¡¹ç›®çŠ¶æ€

**è®¾è®¡ç›®æ ‡ï¼š**
- ä» `PlayerStats` ä¸­ç§»é™¤ `progress` å’Œ `quality`ï¼ˆå®ƒä»¬å±äºé¡¹ç›®çŠ¶æ€ï¼Œä¸æ˜¯äººç‰©å±æ€§ï¼‰
- åœ¨ ActionsPage é¡¶éƒ¨æ˜¾ç¤ºé¡¹ç›®çŠ¶æ€å¡ç‰‡ï¼ˆProjectCard ç»„ä»¶ï¼‰

**å®Œæˆçš„ä»»åŠ¡ï¼š**
1. âœ… æ›´æ–°ç±»å‹å®šä¹‰ï¼šç§»é™¤ `PlayerStats.progress` å’Œ `quality`
2. âœ… æ¸…ç† `gameStoreNew.ts` ä¸­çš„ `stats.progress` å’Œ `stats.quality` å¼•ç”¨
3. âœ… æ¸…ç† `gameStore.ts` ä¸­çš„ `stats.progress` å’Œ `stats.quality` å¼•ç”¨
4. âœ… æ›´æ–° `constants.ts` ä¸­çš„ `STAT_DISPLAY` å’Œ `GAME_CONFIG.initialStats`
5. âœ… åˆ›å»º `ProjectCard` ç»„ä»¶æ˜¾ç¤ºé¡¹ç›®è¿›åº¦å’Œè´¨é‡
6. âœ… é›†æˆ `ProjectCard` åˆ° `ActionsPage`
7. âœ… æ›´æ–° `StatusBar.tsx` ç§»é™¤ progress/quality æ˜¾ç¤º
8. âœ… æ›´æ–° API ç±»å‹å®šä¹‰ï¼ˆ`llmApi.ts` å’Œ `gameApi.ts`ï¼‰
9. âœ… TypeScript ç¼–è¯‘é€šè¿‡

**è®¾è®¡æ–‡æ¡£ï¼š** `docs/plans/2026-01-27-project-status-display-design.md`

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `shared/types/player.ts` - ç§»é™¤ progress å’Œ quality
- `frontend/src/store/gameStoreNew.ts` - æ¸…ç† stats å¼•ç”¨
- `frontend/src/store/gameStore.ts` - æ¸…ç† stats å¼•ç”¨
- `frontend/src/data/constants.ts` - æ›´æ–°é…ç½®
- `frontend/src/components/ProjectCard.tsx` - æ–°å»º
- `frontend/src/pages/ActionsPage.tsx` - é›†æˆé¡¹ç›®å¡ç‰‡
- `frontend/src/components/StatusBar.tsx` - ç§»é™¤è¿›åº¦/è´¨é‡æ˜¾ç¤º
- `frontend/src/api/llmApi.ts` - æ›´æ–°ç±»å‹å®šä¹‰
- `frontend/src/api/gameApi.ts` - æ›´æ–°ç±»å‹å®šä¹‰

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### ä¼˜åŒ–ï¼šTopStatusBar æ‰‹æœºç«¯å¸ƒå±€ä¼˜åŒ–

**é—®é¢˜ï¼š** TopStatusBar å¢åŠ äººç‰©å±æ€§åé«˜åº¦å¢åŠ ï¼Œå„é¡µé¢ pt-40ï¼ˆ160pxï¼‰padding ä¸å¤Ÿ

**æ–¹æ¡ˆ Cï¼ˆæ··åˆæ–¹æ¡ˆï¼‰ï¼š**
1. å‹ç¼© TopStatusBarï¼š
   - å‡å°‘å¤–å±‚ paddingï¼špy-2 â†’ py-1.5ï¼Œpx-4 â†’ px-3
   - è¿›åº¦æ¡é«˜åº¦ï¼šh-1.5 â†’ h-1
   - æ ¸å¿ƒæ•°å€¼æ”¹ä¸º 3 åˆ— grid å¸ƒå±€ï¼ˆæ›´ç´§å‡‘ï¼‰
   - äººç‰©å±æ€§æ”¹ä¸º 2 åˆ— grid å¸ƒå±€
   - è¡ŒåŠ¨ç‚¹å•è¡Œæ˜¾ç¤º
   - å­—ä½“ç¼©å°ï¼štext-xs â†’ text-[10px]

2. è°ƒæ•´é¡µé¢ paddingï¼špt-40 â†’ pt-44ï¼ˆ176pxï¼‰

**ä¼˜åŒ–æ•ˆæœï¼š**
- TopStatusBar é«˜åº¦ä» ~200px å‹ç¼©åˆ° ~140px
- ä¿æŒæ‰€æœ‰ä¿¡æ¯å®Œæ•´æ˜¾ç¤º
- æ‰‹æœºç«¯ä½“éªŒæ›´ä¼˜

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/components/TopStatusBar.tsx` - å‹ç¼©å¸ƒå±€
- æ‰€æœ‰é¡µé¢æ–‡ä»¶ - pt-40 â†’ pt-44

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### é‡æ„ï¼šåŸºç¡€è¡ŒåŠ¨é‡æ–°è®¾è®¡

**èƒŒæ™¯ï¼š**
- åŸæœ‰"åŸ¹è®­å­¦ä¹ "è¡ŒåŠ¨ä¸"å±æ€§è®­ç»ƒ"åŠŸèƒ½é‡å¤
- éœ€è¦æ›´å¤šå·®å¼‚åŒ–ç­–ç•¥é€‰æ‹©

**æ–°è¡ŒåŠ¨è®¾è®¡ï¼š**

1. **æ‰¿æ¥ç§æ´»**ï¼ˆFREELANCEï¼‰
   - å›¾æ ‡ï¼šğŸ’¼
   - æ•ˆæœï¼šç°é‡‘ +15000ï¼Œå¥åº· -8ï¼Œå£°èª‰ -5
   - å®šä½ï¼šç°é‡‘å¯¼å‘ï¼Œé«˜é£é™©å›æŠ¥

2. **å·å·¥å‡æ–™**ï¼ˆCUT_CORNERSï¼‰
   - å›¾æ ‡ï¼šâš ï¸
   - æ•ˆæœï¼šè¿›åº¦ +18ï¼Œè´¨é‡ -12ï¼Œå£°èª‰ -3ï¼Œå¥åº· -3
   - å®šä½ï¼šèµ¶å·¥å†²åˆºï¼Œç‰ºç‰²è´¨é‡å’Œå£°èª‰è¿½è¿›åº¦

**åŸºç¡€è¡ŒåŠ¨ç»„åˆï¼š**
| è¡ŒåŠ¨ | å®šä½ | ä¸»è¦æ”¶ç›Š | ä¸»è¦ä»£ä»· |
|------|------|---------|---------|
| åšé¡¹ç›® | å¹³è¡¡å‘å±• | è¿›åº¦+10ï¼Œè´¨é‡+5 | ç°é‡‘-5000ï¼Œå¥åº·-5 |
| æ‰¿æ¥ç§æ´» | ç°é‡‘å¯¼å‘ | ç°é‡‘+15000 | å¥åº·-8ï¼Œå£°èª‰-5 |
| å·å·¥å‡æ–™ | èµ¶å·¥å†²åˆº | è¿›åº¦+18 | è´¨é‡-12ï¼Œå£°èª‰-3ï¼Œå¥åº·-3 |
| ä¼‘æ¯ | æ¢å¤çŠ¶æ€ | å¥åº·+12 | æ—  |

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `shared/types/game.ts` - æ›¿æ¢ TRAINING ä¸º FREELANCE å’Œ CUT_CORNERS
- `frontend/src/data/constants.ts` - æ›´æ–° ACTIONS é…ç½®
- `frontend/src/pages/ActionsPage.tsx` - æ›´æ–°åŸºç¡€è¡ŒåŠ¨è¿‡æ»¤åˆ—è¡¨

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### ä¿®å¤ï¼šå­£åº¦ç»“ç®—é¡µé¢å®Œæ•´æ˜¾ç¤ºäº‹ä»¶æ•ˆæœ

**é—®é¢˜ï¼š**
- å­£åº¦å¼€å§‹äº‹ä»¶åªæ˜¾ç¤ºç°é‡‘å’Œå¥åº·æ•ˆæœï¼Œé—æ¼å£°èª‰ã€å·¥ä½œèƒ½åŠ›ã€å¹¸è¿ã€è¿›åº¦ã€è´¨é‡
- å¤©ç¾äº‹ä»¶åªæ˜¾ç¤ºç°é‡‘æƒ©ç½šï¼Œé—æ¼å¥åº·ã€å£°èª‰ã€è¿›åº¦æƒ©ç½š

**ä¿®å¤å†…å®¹ï¼š**

1. **å­£åº¦å¼€å§‹äº‹ä»¶æ˜¾ç¤º**
   - æ„å»ºå®Œæ•´çš„æ•ˆæœæ˜¾ç¤ºå­—ç¬¦ä¸²
   - æ”¯æŒæ˜¾ç¤ºï¼šcashã€healthã€reputationã€workAbilityã€luckã€progressã€quality
   - æ•ˆæœä¹‹é—´ç”¨ " Â· " åˆ†éš”

2. **å¤©ç¾äº‹ä»¶æ˜¾ç¤º**
   - æ˜¾ç¤ºäº‹ä»¶æè¿°
   - æ˜¾ç¤ºæ‰€æœ‰æƒ©ç½šæ•ˆæœï¼šcashPenaltyã€healthPenaltyã€reputationPenaltyã€progressPenalty

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/pages/QuarterlySettlementPage.tsx`

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### æ–°å¢ï¼šæœ¬å­£åº¦å±æ€§å˜åŒ–æ±‡æ€»

**èƒŒæ™¯ï¼š**
- ç”¨æˆ·åé¦ˆç»“ç®—é¡µé¢æ˜¾ç¤ºçš„äº‹ä»¶æ•ˆæœå’Œ TopBar å±æ€§å€¼ä¹‹é—´çš„å…³ç³»ä¸æ¸…æ™°
- éœ€è¦è®©ç©å®¶æ˜ç¡®çœ‹åˆ°æœ¬å­£åº¦æ‰€æœ‰å±æ€§çš„å˜åŒ–

**æ–°å¢åŠŸèƒ½ï¼š**
- åœ¨ç»“ç®—é¡µé¢æ·»åŠ "æœ¬å­£åº¦å±æ€§å˜åŒ–æ±‡æ€»"section
- æ±‡æ€»æ˜¾ç¤ºæ‰€æœ‰å±æ€§å˜åŒ–ï¼š
  - å­£åº¦å¼€å§‹äº‹ä»¶æ•ˆæœï¼ˆç°é‡‘ã€å¥åº·ã€å£°èª‰ã€å·¥ä½œèƒ½åŠ›ã€å¹¸è¿ï¼‰
  - å­£åº¦è‡ªç„¶æ¢å¤å¥åº·
  - æ”¶æ”¯å‡€å˜åŒ–
  - å¤©ç¾äº‹ä»¶æƒ©ç½š
  - å¥–é‡‘äº‹ä»¶å¥–åŠ±
- åº•éƒ¨æç¤ºï¼šä»¥ä¸Šæ‰€æœ‰å˜åŒ–å·²åº”ç”¨åˆ°å½“å‰å±æ€§å€¼

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/pages/QuarterlySettlementPage.tsx`

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### ä¿®å¤ï¼šæ·»åŠ å­£åº¦æ¶¨è–ªæœºåˆ¶

**é—®é¢˜ï¼š**
- ç‚¹å‡»"è¿›å…¥ä¸‹ä¸€å­£åº¦"åï¼ŒTopBar æ˜¾ç¤ºçš„å·¥èµ„æ•°é¢ä¸æ›´æ–°
- åŸå› ï¼š`actualSalary` åªåœ¨åˆå§‹åŒ–å’Œæ™‹å‡æ—¶æ›´æ–°ï¼Œç¼ºå°‘å­£åº¦æ¶¨è–ªæœºåˆ¶

**ä¿®å¤å†…å®¹ï¼š**

1. **æ·»åŠ å­£åº¦æ¶¨è–ªæœºåˆ¶**ï¼ˆgameStoreNew.tsï¼‰
   - åœ¨ `finishQuarter()` ä¸­æ·»åŠ æ¶¨è–ªé€»è¾‘
   - 60% æ¦‚ç‡è§¦å‘æ¶¨è–ªï¼ˆå®ä¹ ç”Ÿå’Œåˆä¼™äººé™¤å¤–ï¼‰
   - æ¶¨è–ªå¹…åº¦åŸºäºå½“å‰èŒçº§çš„ `raiseRange`

2. **ç»“ç®—é¡µé¢æ˜¾ç¤ºæ¶¨è–ªä¿¡æ¯**
   - åœ¨"æœ¬å­£åº¦å±æ€§å˜åŒ–æ±‡æ€»"ä¸­æ˜¾ç¤º"å­£åº¦æ¶¨è–ª"
   - æ¶¨è–ªä¿¡æ¯å·²åº”ç”¨åˆ°ä¸‹å­£åº¦å·¥èµ„

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/store/gameStoreNew.ts` - finishQuarter å‡½æ•°æ·»åŠ æ¶¨è–ªé€»è¾‘
- `frontend/src/pages/QuarterlySettlementPage.tsx` - æ˜¾ç¤ºæ¶¨è–ªä¿¡æ¯

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### ä¿®å¤ï¼šå­£åº¦ç»“ç®—ç°é‡‘è®¡ç®—é”™è¯¯

**é—®é¢˜ï¼š**
- å½“å‰ç°é‡‘ 5.8ä¸‡ï¼Œå­£åº¦å‡€å˜åŒ– +8000ï¼Œé¢„æœŸ 6.6ä¸‡
- ç‚¹å‡»"è¿›å…¥ä¸‹ä¸€å­£åº¦"åå®é™…æ˜¾ç¤º 5.6ä¸‡ï¼ˆè®¡ç®—é”™è¯¯ï¼‰

**æ ¹å› ï¼š**
- `finishQuarter()` ä¸­å¤šæ¬¡è°ƒç”¨ `set()` å¯¼è‡´çŠ¶æ€è¦†ç›–
- å¤©ç¾äº‹ä»¶å¤„ç†ã€ç°é‡‘æ›´æ–°ã€å…³ç³»è¡°å‡åˆ†åˆ«è°ƒç”¨ `set()`
- Zustand çŠ¶æ€æ›´æ–°å¼‚æ­¥é—®é¢˜å¯¼è‡´åé¢çš„ `get()` è·å–åˆ°è¿‡æ—¶çŠ¶æ€

**ä¿®å¤ï¼š**
- å°†æ‰€æœ‰çŠ¶æ€æ›´æ–°åˆå¹¶åˆ°ä¸€æ¬¡ `set()` è°ƒç”¨
- ç§»é™¤ä¸­é—´çš„ `set({ relationships: newRelationships })`
- ç¡®ä¿ `newStats` åœ¨è®¡ç®—æ—¶ä½¿ç”¨ `state.stats` è€Œä¸æ˜¯ `get().stats`

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/store/gameStoreNew.ts` - finishQuarter å‡½æ•°é‡æ„

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### ä¿®å¤ï¼šç»“ç®—é¡µé¢å±æ€§å˜åŒ–æ±‡æ€»æ˜¾ç¤ºä¼˜åŒ–

**é—®é¢˜ï¼š**
- ç»“ç®—é¡µé¢çš„"å±æ€§å˜åŒ–æ±‡æ€»"è®©ç©å®¶å›°æƒ‘
- å­£åº¦å¼€å§‹äº‹ä»¶å’Œæ”¶æ”¯ç»“ç®—çš„å˜åŒ–æ··åœ¨ä¸€èµ·ï¼Œä¸æ¸…æ¥šå“ªäº›å·²åº”ç”¨

**ä¿®å¤å†…å®¹ï¼š**
1. **æ·»åŠ æ§åˆ¶å°è°ƒè¯•æ—¥å¿—** - ä¾¿äºè¿½è¸ªç°é‡‘è®¡ç®—æµç¨‹
2. **é‡æ–°ç»„ç»‡å±æ€§å˜åŒ–æ±‡æ€»**ï¼š
   - ã€æœ¬å­£åº¦å¼€å§‹äº‹ä»¶ã€‘(å·²ç”Ÿæ•ˆ) - å­£åº¦å¼€å§‹æ—¶å·²åº”ç”¨çš„äº‹ä»¶
   - ã€æœ¬å­£åº¦æ”¶æ”¯ç»“ç®—ã€‘- å­£åº¦ç»“ç®—æ—¶çš„å˜åŒ–
3. **æ˜ç¡®è¯´æ˜**ï¼š
   - å­£åº¦å¼€å§‹äº‹ä»¶æ ‡æ³¨"å·²ç”Ÿæ•ˆ"
   - æ”¶æ”¯å‡€å˜åŒ–æ ‡æ³¨"(å·¥èµ„+ç”Ÿæ´»è´¹+é¡¹ç›®ç­‰)"
   - å¤©ç¾çš„ç°é‡‘æƒ©ç½šä¸å†é‡å¤æ˜¾ç¤ºï¼ˆå·²åŒ…å«åœ¨å‡€å˜åŒ–ä¸­ï¼‰

**è°ƒè¯•æ—¥å¿—ï¼š**
- finishQuarter: è¾“å‡ºå½“å‰ç°é‡‘ã€å„é¡¹æ”¶æ”¯ã€å‡€å˜åŒ–ã€é¢„æœŸç°é‡‘
- nextQuarter: è¾“å‡ºè¿›å…¥æ—¶ç°é‡‘ã€å­£åº¦äº‹ä»¶ç°é‡‘å˜åŒ–ã€åº”ç”¨åç°é‡‘

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/store/gameStoreNew.ts` - æ·»åŠ è°ƒè¯•æ—¥å¿—
- `frontend/src/pages/QuarterlySettlementPage.tsx` - é‡æ–°ç»„ç»‡å±æ€§å˜åŒ–æ˜¾ç¤º

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### æ–°å¢ï¼šå·¥ä½œèƒ½åŠ›å’Œå¹¸è¿åŠŸèƒ½å®ç°

**èƒŒæ™¯ï¼š**
- ç”¨æˆ·åé¦ˆå·¥ä½œèƒ½åŠ›å’Œå¹¸è¿å±æ€§è™½ç„¶åœ¨ç±»å‹ä¸­å®šä¹‰ï¼Œä½†å®é™…åŠŸèƒ½æœªå®ç°
- éœ€è¦å®ç°ï¼šéšè—æŠ€æœ¯é€‰é¡¹ã€éšè—å†’é™©é€‰é¡¹ã€å…³ç³»ç»´æŠ¤åŠ æˆUIåé¦ˆ

**å®Œæˆçš„åŠŸèƒ½ï¼š**

1. **ç±»å‹å®šä¹‰æ‰©å±•**ï¼ˆeventTypes.tsï¼‰
   - æ·»åŠ  `failureFeedback?: string` - å†’é™©é€‰é¡¹å¤±è´¥æ—¶çš„åé¦ˆæ–‡æœ¬
   - æ·»åŠ  `failure?: EventEffects` - å†’é™©é€‰é¡¹å¤±è´¥æ—¶çš„æ•ˆæœ

2. **é£é™©é€‰é¡¹å¤„ç†ä¼˜åŒ–**ï¼ˆgameStoreNew.tsï¼‰
   - ä½¿ç”¨ `selectedOption.effects.failure` æ›¿ä»£ `(selectedOption.effects as any).failure`
   - ä½¿ç”¨ `failureFeedback` æ›¿ä»£ç¡¬ç¼–ç çš„ "ï¼ˆå¤±è´¥ï¼‰"

3. **éšè—é€‰é¡¹æ·»åŠ **ï¼ˆ11ä¸ªéšè—é€‰é¡¹ï¼‰
   - **engineerEvents.ts** (2ä¸ª): æŠ€æœ¯æ–¹æ¡ˆä¼˜åŒ–(å·¥ä½œèƒ½åŠ›â‰¥30)ã€æŠ€æœ¯æ”»å…³çªç ´(å·¥ä½œèƒ½åŠ›â‰¥35)
   - **commonEvents.ts** (1ä¸ª): è±ªèµŒå¤©æ°”å¥½è½¬(å¹¸è¿â‰¥40, 30%é£é™©)
   - **assistantEngineerEvents.ts** (3ä¸ª): æ·±åº¦ä¼˜åŒ–æ–¹æ¡ˆ(å·¥ä½œèƒ½åŠ›â‰¥25)ã€è±ªèµŒéšè”½å¤„ç†(å¹¸è¿â‰¥35, 35%é£é™©)ã€è‡ªä¸»æŠ€æœ¯æ”»å…³(å·¥ä½œèƒ½åŠ›â‰¥25)
   - **seniorEngineerEvents.ts** (2ä¸ª): é©æ–°æŠ€æœ¯æ–¹æ¡ˆ(å·¥ä½œèƒ½åŠ›â‰¥50)ã€è‡ªä¸»ç ”å‘çªç ´(å·¥ä½œèƒ½åŠ›â‰¥50)
   - **managerEvents.ts** (3ä¸ª): ç²¾ç»†åŒ–ç®¡ç†æ‰­äº(å·¥ä½œèƒ½åŠ›â‰¥45)ã€è±ªèµŒå˜æ›´è°ˆåˆ¤(å¹¸è¿â‰¥45, 25%é£é™©)ã€ä¸“ä¸šå¸®æ‰¶æ”¹è¿›(å·¥ä½œèƒ½åŠ›â‰¥45)

4. **UI åé¦ˆï¼šå…³ç³»ç»´æŠ¤åŠ æˆ**ï¼ˆgameStoreNew.tsï¼‰
   - æ·»åŠ  `hasWorkAbilityBonus` æ ‡å¿—è·Ÿè¸ªå·¥ä½œèƒ½åŠ›åŠ æˆ
   - ç»´æŠ¤å…³ç³»æ—¶ï¼Œå¦‚æœå·¥ä½œèƒ½åŠ›â‰¥60ä¸”æ˜¯è®¾è®¡é™¢/ç›‘ç†å…³ç³»ï¼Œæ˜¾ç¤º "(ğŸ”§å·¥ä½œèƒ½åŠ›+20%)"
   - è´µäººç›¸åŠ©æœºåˆ¶åŒæ ·æ˜¾ç¤ºå·¥ä½œèƒ½åŠ›åŠ æˆ

**åŠŸèƒ½è¯´æ˜ï¼š**
- **éšè—æŠ€æœ¯é€‰é¡¹**ï¼šéœ€è¦å·¥ä½œèƒ½åŠ›è¾¾åˆ°é˜ˆå€¼æ‰æ˜¾ç¤ºï¼Œæ•ˆæœæ›´å¥½
- **éšè—å†’é™©é€‰é¡¹**ï¼šéœ€è¦å¹¸è¿è¾¾åˆ°é˜ˆå€¼æ‰æ˜¾ç¤ºï¼Œæœ‰å¤±è´¥é£é™©
  - æˆåŠŸç‡å…¬å¼ï¼š`100 - riskFactor * 100 + luck / 2`
  - å¤±è´¥æ—¶åº”ç”¨ `effects.failure` ä¸­çš„æƒ©ç½š
- **å…³ç³»ç»´æŠ¤åŠ æˆ**ï¼šå·¥ä½œèƒ½åŠ›â‰¥60æ—¶ï¼Œç»´æŠ¤è®¾è®¡é™¢/ç›‘ç†å…³ç³»è·å¾—+20%åŠ æˆ
- **è´µäººç›¸åŠ©æœºåˆ¶**ï¼šå¹¸è¿â‰¥60æ—¶ï¼Œ15%æ¦‚ç‡è§¦å‘ï¼ˆå·²å­˜åœ¨ï¼Œå·²æœ‰UIåé¦ˆï¼‰

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/data/events/eventTypes.ts` - ç±»å‹æ‰©å±•
- `frontend/src/data/events/engineerEvents.ts` - æ·»åŠ 2ä¸ªéšè—é€‰é¡¹
- `frontend/src/data/events/commonEvents.ts` - æ·»åŠ 1ä¸ªéšè—é€‰é¡¹
- `frontend/src/data/events/assistantEngineerEvents.ts` - æ·»åŠ 3ä¸ªéšè—é€‰é¡¹
- `frontend/src/data/events/seniorEngineerEvents.ts` - æ·»åŠ 2ä¸ªéšè—é€‰é¡¹
- `frontend/src/data/events/managerEvents.ts` - æ·»åŠ 3ä¸ªéšè—é€‰é¡¹
- `frontend/src/store/gameStoreNew.ts` - é£é™©å¤„ç†ä¼˜åŒ–+UIåé¦ˆ

**æµ‹è¯•éªŒè¯ï¼š**
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… å‰ç«¯æ„å»ºæˆåŠŸ
- â³ éœ€è¦æ‰‹åŠ¨æµ‹è¯•ï¼š
  - éšè—é€‰é¡¹åœ¨ä¸åŒå±æ€§å€¼ä¸‹çš„æ˜¾ç¤º/éšè—
  - å†’é™©é€‰é¡¹çš„æˆåŠŸ/å¤±è´¥åˆ¤å®š
  - å…³ç³»ç»´æŠ¤æ—¶çš„åŠ æˆæç¤º

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### æ–°å¢ï¼šæ·»åŠ æ›´å¤šéšè—é€‰é¡¹

**ç”¨æˆ·éœ€æ±‚ï¼š**
- éšè—é€‰é¡¹æ•°é‡ä¸å¤Ÿï¼Œå¸Œæœ›æ·»åŠ æ›´å¤š
- äº†è§£éšè—é€‰é¡¹çš„æ˜¾ç¤ºæœºåˆ¶

**éšè—é€‰é¡¹æ˜¾ç¤ºæœºåˆ¶ï¼š**
- `EventCard.tsx` ç»„ä»¶è¿‡æ»¤é€»è¾‘ï¼š
  - æ™®é€šé€‰é¡¹ï¼ˆ`hidden: false` æˆ–æœªè®¾ç½®ï¼‰å§‹ç»ˆæ˜¾ç¤º
  - éšè—é€‰é¡¹ï¼ˆ`hidden: true`ï¼‰éœ€è¦æ»¡è¶³ `requiredAbility` æ¡ä»¶æ‰æ˜¾ç¤º
  - å·¥ä½œèƒ½åŠ›é€‰é¡¹ï¼š`stats.workAbility >= requiredAbility.workAbility`
  - å¹¸è¿é€‰é¡¹ï¼š`stats.luck >= requiredAbility.luck`
- éšè—é€‰é¡¹æ ·å¼ï¼šç´«è‰²è¾¹æ¡† + "âœ¨ ç‰¹æ®Šé€‰é¡¹" æ ‡è¯†

**æ–°å¢éšè—é€‰é¡¹ï¼ˆ+13ä¸ªï¼‰ï¼š**

| æ–‡ä»¶ | äº‹ä»¶ | é€‰é¡¹ç±»å‹ | é˜ˆå€¼ |
|------|------|---------|------|
| internEvents.ts | å›¾çº¸ç–‘é—® | ğŸ”§ç‹¬ç«‹ç ”ç©¶åˆ†æ | å·¥ä½œèƒ½åŠ›â‰¥20 |
| internEvents.ts | ææ–™éªŒæ”¶ | ğŸ”§ä¸“ä¸šå¿«é€Ÿæ£€æµ‹ | å·¥ä½œèƒ½åŠ›â‰¥20 |
| internEvents.ts | å®‰å…¨éšæ‚£ | ğŸ²è±ªèµŒä¸ä¼šå‡ºäº‹ | å¹¸è¿â‰¥25, 40%é£é™© |
| directorEvents.ts | å¤šé¡¹ç›®åè°ƒ | ğŸ”§ç²¾ç›Šèµ„æºç»Ÿç­¹ | å·¥ä½œèƒ½åŠ›â‰¥55 |
| directorEvents.ts | æˆ˜ç•¥é¡¹ç›®å†³ç­– | ğŸ²è±ªèµŒæˆ˜ç•¥æœºé‡ | å¹¸è¿â‰¥55, 30%é£é™© |
| directorEvents.ts | ä¸šåŠ¡æ‹“å±• | ğŸ”§åˆ›æ–°å¸‚åœºå¼€æ‹“ | å·¥ä½œèƒ½åŠ›â‰¥55 |
| partnerEvents.ts | å…¬å¸æˆ˜ç•¥å†³ç­– | ğŸ”§æˆ˜ç•¥é©æ–° | å·¥ä½œèƒ½åŠ›â‰¥60 |
| partnerEvents.ts | é‡å¤§æŠ•èµ„å†³ç­– | ğŸ²è±ªèµŒç‹¬è§’å…½é¡¹ç›® | å¹¸è¿â‰¥60, 35%é£é™© |
| commonEvents.ts | è®¾å¤‡æ•…éšœ | ğŸ”§æŠ€æœ¯è¯Šæ–­ç»´ä¿® | å·¥ä½œèƒ½åŠ›â‰¥25 |
| commonEvents.ts | ææ–™ä»·æ ¼æ³¢åŠ¨ | ğŸ”§ç²¾å‡†å¸‚åœºé¢„æµ‹ | å·¥ä½œèƒ½åŠ›â‰¥30 |
| commonEvents.ts | ç°åœºå˜æ›´ | ğŸ²è±ªèµŒç”²æ–¹æ”¾å¼ƒ | å¹¸è¿â‰¥30, 50%é£é™© |

**æ€»è®¡ï¼š24ä¸ªéšè—é€‰é¡¹**
- å®ä¹ ç”Ÿï¼š3ä¸ª
- åŠ©ç†å·¥ç¨‹å¸ˆï¼š3ä¸ª
- å·¥ç¨‹å¸ˆï¼š2ä¸ª
- é«˜çº§å·¥ç¨‹å¸ˆï¼š2ä¸ª
- é¡¹ç›®ç»ç†ï¼š3ä¸ª
- é¡¹ç›®æ€»ç›‘ï¼š3ä¸ª
- åˆä¼™äººï¼š2ä¸ª
- é€šç”¨äº‹ä»¶ï¼š6ä¸ª

**é£é™©æœºåˆ¶è¯´æ˜ï¼š**
- æˆåŠŸç‡å…¬å¼ï¼š`æˆåŠŸé˜ˆå€¼ = 100 - riskFactor Ã— 100 + luck / 2`
- ä¾‹å¦‚ï¼šriskFactor=0.3, luck=50 â†’ é˜ˆå€¼=100-30+25=95
- éšæœº roll (0-100) > é˜ˆå€¼ åˆ™æˆåŠŸ

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `frontend/src/data/events/internEvents.ts` - +3éšè—é€‰é¡¹
- `frontend/src/data/events/directorEvents.ts` - +3éšè—é€‰é¡¹
- `frontend/src/data/events/partnerEvents.ts` - +2éšè—é€‰é¡¹
- `frontend/src/data/events/commonEvents.ts` - +5éšè—é€‰é¡¹

**æµ‹è¯•éªŒè¯ï¼š**
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… å‰ç«¯æ„å»ºæˆåŠŸ
- â³ éœ€è¦æ‰‹åŠ¨æµ‹è¯•å„ç§å±æ€§ç»„åˆä¸‹çš„éšè—é€‰é¡¹æ˜¾ç¤º

**Review çŠ¶æ€ï¼š** â³ å¾…éªŒè¯

### æ–‡æ¡£ï¼šæ¸¸æˆç­–åˆ’æ–‡æ¡£åˆ›å»º

**èƒŒæ™¯ï¼š**
- éœ€è¦ç»™æ¸¸æˆç­–åˆ’è€…åˆ›å»ºä¸€ä»½è¯¦ç»†çš„æ¸¸æˆæœºåˆ¶æ–‡æ¡£
- æ–‡æ¡£éœ€åŒ…å«æ‰€æœ‰æ¸¸æˆè§„åˆ™å’Œæœºåˆ¶ï¼Œä¾¿äºç†è§£å’Œè°ƒæ•´

**åˆ›å»ºæ–‡æ¡£ï¼š** `docs/GAME_DESIGN_DOCUMENT.md`

**æ–‡æ¡£ç»“æ„ï¼š**

1. æ¸¸æˆæ¦‚è¿°
   - æ¸¸æˆå®šä½ã€æ ¸å¿ƒå¾ªç¯ã€æ¸¸æˆé˜¶æ®µåˆ’åˆ†

2. æ ¸å¿ƒæ•°å€¼ç³»ç»Ÿ
   - 5å¤§ç©å®¶å±æ€§ï¼ˆç°é‡‘ã€å¥åº·ã€å£°èª‰ã€å·¥ä½œèƒ½åŠ›ã€å¹¸è¿ï¼‰
   - é¡¹ç›®çŠ¶æ€ï¼ˆè¿›åº¦ã€è´¨é‡ï¼‰
   - æ•°å€¼èŒƒå›´ã€å±é™©é˜ˆå€¼ã€ä½œç”¨è¯´æ˜

3. èŒçº§ç³»ç»Ÿ
   - 7çº§èŒçº§å®Œæ•´é…ç½®è¡¨
   - æ™‹å‡æ¡ä»¶ï¼ˆå‡€èµ„äº§ã€é¡¹ç›®æ•°ã€å£°èª‰ã€ç‰¹æ®Šè¦æ±‚ï¼‰
   - å­£åº¦å·¥èµ„èŒƒå›´ã€æ¶¨è–ªæœºåˆ¶

4. äº‹ä»¶ç³»ç»Ÿ
   - äº‹ä»¶åˆ†ç±»ï¼ˆä¸“ä¸šå‹ã€èŒåœºå‹ï¼‰
   - äº‹ä»¶æ± åˆ†é…ï¼ˆæ¯èŒçº§10ä¸ªäº‹ä»¶ï¼‰
   - å†³ç­–é€‰é¡¹ç±»å‹ï¼ˆæ™®é€šã€éšè—æŠ€æœ¯ã€éšè—å†’é™©ï¼‰
   - äº‹ä»¶è§¦å‘æœºåˆ¶ã€å­£åº¦å¼€å§‹/ç»“æŸäº‹ä»¶

5. èƒ½åŠ›ç³»ç»Ÿ
   - å·¥ä½œèƒ½åŠ›ï¼š4ç§è·å–æ–¹å¼ã€4ç§ä½œç”¨æœºåˆ¶
   - å¹¸è¿ï¼š4ç§è·å–æ–¹å¼ã€4ç§ä½œç”¨æœºåˆ¶
   - è¯¦ç»†å…¬å¼å’Œç¤ºä¾‹

6. ææ–™å¸‚åœºç³»ç»Ÿ
   - 4ç§ææ–™é…ç½®è¡¨
   - ä»·æ ¼æ³¢åŠ¨æœºåˆ¶
   - ä»·æ ¼äº‹ä»¶å½±å“
   - äº¤æ˜“æœºåˆ¶ã€ä»·æ ¼é¢„æµ‹ç³»ç»Ÿ

7. å…³ç³»ç³»ç»Ÿ
   - 5ç§å…³ç³»ç±»å‹é…ç½®
   - å…³ç³»è§£é”æ¡ä»¶
   - 4ç§ç»´æŠ¤æ–¹å¼
   - å±æ€§å½±å“ï¼ˆå·¥ä½œèƒ½åŠ›åŠ æˆã€è´µäººç›¸åŠ©ï¼‰

8. è¡ŒåŠ¨ç³»ç»Ÿ
   - è¡ŒåŠ¨ç‚¹è®¡ç®—å…¬å¼
   - 4ç§åŸºç¡€è¡ŒåŠ¨
   - 3ç§é«˜çº§è¡ŒåŠ¨
   - è¡ŒåŠ¨é™åˆ¶

9. å›¢é˜Ÿç³»ç»Ÿ
   - 4ç§æˆå‘˜ç±»å‹
   - å›¢é˜Ÿè§„æ¨¡è®¡ç®—
   - å›¢é˜Ÿæ•ˆæœ
   - é¢†å¯¼åŠ›è·å–
   - å›¢é˜Ÿé—®é¢˜ç±»å‹

10. å­£åº¦ç»“ç®—ç³»ç»Ÿ
    - å®Œæ•´ç»“ç®—æµç¨‹
    - æ”¶æ”¯è®¡ç®—
    - ç”Ÿæ´»æˆæœ¬ã€å…³ç³»è¡°å‡

11. èƒœåˆ©ä¸å¤±è´¥æ¡ä»¶
    - èƒœåˆ©æ¡ä»¶ï¼šæ™‹å‡åˆä¼™äºº
    - 3ç§å¤±è´¥æ¡ä»¶ï¼ˆç ´äº§ã€è¿‡åŠ³ã€å°æ€ï¼‰

**é™„å½•ï¼š**
- é™„å½• A: 24ä¸ªéšè—é€‰é¡¹å®Œæ•´åˆ—è¡¨ï¼ˆæŒ‰èŒçº§åˆ†ç±»ï¼‰
- é™„å½• B: å…¬å¼é€ŸæŸ¥è¡¨

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `docs/GAME_DESIGN_DOCUMENT.md` - æ–°å»º

**æ–‡æ¡£ç‰¹ç‚¹ï¼š**
- è¯¦ç»†æ•°å€¼ï¼šæ‰€æœ‰é˜ˆå€¼ã€æ¦‚ç‡ã€èŒƒå›´éƒ½æœ‰æ˜ç¡®æ•°å€¼
- å…¬å¼ç¤ºä¾‹ï¼šå…³é”®æœºåˆ¶é…æœ‰è®¡ç®—å…¬å¼å’Œç¤ºä¾‹
- è¡¨æ ¼å±•ç¤ºï¼šå¤æ‚æ•°æ®ç”¨è¡¨æ ¼æ¸…æ™°å‘ˆç°
- å›¾æ ‡æ ‡è¯†ï¼šæ¯ä¸ªæ¦‚å¿µéƒ½æœ‰å¯¹åº”çš„å›¾æ ‡

**Review çŠ¶æ€ï¼š** âœ… åˆ›å»ºå®Œæˆ

## 2026-01-27

### Task 1: ä¿®æ”¹ RankConfig ç±»å‹å®šä¹‰

**èƒŒæ™¯ï¼š**
- å…³ç³»ç³»ç»Ÿé‡æ„çš„ç¬¬ä¸€ä¸ªä»»åŠ¡
- ç›®æ ‡ï¼šå°†å…³ç³»ä»"é¸¡è‚‹"å˜ä¸º"ä¸ä¸šç»©åŒç­‰é‡è¦çš„æ ¸å¿ƒæ™‹å‡ç»´åº¦"
- éœ€è¦ä¸ºæ¯ä¸ªèŒçº§æ·»åŠ å…³ç³»è¦æ±‚é…ç½®

**ä»»åŠ¡å†…å®¹ï¼š**
- åœ¨ `shared/types/game.ts` çš„ `RankConfig` æ¥å£ä¸­æ·»åŠ  `relationshipRequirements` å­—æ®µ
- å­—æ®µç±»å‹ï¼šå¯é€‰çš„æ•°ç»„ï¼ŒåŒ…å«å…³ç³»ç±»å‹å’Œæœ€å°å€¼è¦æ±‚
- å­—æ®µå®šä¹‰ï¼š
  ```typescript
  relationshipRequirements?: {
    type: RelationshipType;
    minValue: number;
  }[];
  ```

**å®ç°ç»†èŠ‚ï¼š**
- å­—æ®µä¸ºå¯é€‰ï¼ˆ`?`ï¼‰ï¼Œç¡®ä¿å‘åå…¼å®¹
- ç°æœ‰çš„ `RANK_CONFIGS` å¸¸é‡æ— éœ€ä¿®æ”¹å³å¯é€šè¿‡ç¼–è¯‘
- ä¸ºåç»­ä»»åŠ¡ï¼ˆTask 2: é…ç½®å„èŒçº§å…³ç³»è¦æ±‚ï¼‰å¥ å®šåŸºç¡€

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `shared/types/game.ts:118-121` - æ·»åŠ  relationshipRequirements å­—æ®µ

**æµ‹è¯•éªŒè¯ï¼š**
- âœ… TypeScript ç¼–è¯‘é€šè¿‡ï¼ˆå‰ç«¯ï¼‰
- âœ… TypeScript ç¼–è¯‘é€šè¿‡ï¼ˆåç«¯ï¼‰
- âœ… å‰ç«¯æ„å»ºæˆåŠŸ
- âœ… æ‰€æœ‰ç°æœ‰èŒçº§é…ç½®ä¸æ–°ç±»å‹å®šä¹‰å…¼å®¹

**Review çŠ¶æ€ï¼š** âœ… å®Œæˆå¹¶é€šè¿‡éªŒè¯

### Task 1: ä¼˜åŒ– RankConfig å…³ç³»è¦æ±‚ç±»å‹å®šä¹‰

**èƒŒæ™¯ï¼š**
- ä»£ç å®¡æŸ¥å‘ç° Task 1 çš„å®ç°å­˜åœ¨ 3 ä¸ªä»£ç è´¨é‡é—®é¢˜
- éœ€è¦é‡æ„ä»¥æå‡ç±»å‹å®šä¹‰çš„è¯­ä¹‰æ¸…æ™°åº¦å’Œå¯ç»´æŠ¤æ€§

**ä¿®å¤å†…å®¹ï¼š**

1. **æå–æ¥å£ç±»å‹**
   - åˆ›å»ºç‹¬ç«‹çš„ `RelationshipRequirement` æ¥å£
   - æå‡ç±»å‹å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§

2. **è¯­ä¹‰ä¼˜åŒ–**
   - é‡å‘½å `minValue` â†’ `requiredValue`
   - æ›´æ¸…æ™°åœ°è¡¨è¾¾"å¿…é¡»è¾¾åˆ°çš„å€¼"è€Œé"æœ€å°å€¼"

3. **é€»è¾‘å…³ç³»æ˜ç¡®åŒ–**
   - æ·»åŠ  `requirementType?: 'all' | 'any'` å­—æ®µ
   - æ˜ç¡® AND/OR é€»è¾‘ï¼šé»˜è®¤ 'all'ï¼ˆæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ï¼‰ï¼Œå¯é€‰ 'any'ï¼ˆæ»¡è¶³ä»»ä¸€å³å¯ï¼‰

**æ–°ç±»å‹ç»“æ„ï¼š**
```typescript
export interface RelationshipRequirement {
  type: RelationshipType;
  requiredValue: number;
}

export interface RankConfig {
  // ...å…¶ä»–å­—æ®µ...
  relationshipRequirements?: {
    requirements: RelationshipRequirement[];
    requirementType?: 'all' | 'any';
  };
}
```

**ä¼˜åŠ¿å¯¹æ¯”ï¼š**

| æ–¹é¢ | æ—§å®ç° | æ–°å®ç° |
|------|-------|-------|
| ç±»å‹å¤ç”¨ | âŒ å†…è”ç±»å‹ | âœ… ç‹¬ç«‹æ¥å£ |
| è¯­ä¹‰æ¸…æ™° | âš ï¸ minValueï¼ˆæœ€å°å€¼ï¼‰ | âœ… requiredValueï¼ˆå¿…éœ€å€¼ï¼‰ |
| é€»è¾‘è¡¨è¾¾ | âŒ ä¸æ˜ç¡® AND/OR | âœ… æ˜ç¡® 'all'\|'any' |
| å¯æ‰©å±•æ€§ | âš ï¸ å¹³é“ºæ•°ç»„ | âœ… ç»“æ„åŒ–å¯¹è±¡ |

**æ¶‰åŠæ–‡ä»¶ï¼š**
- `shared/types/game.ts:106-129` - é‡æ„å…³ç³»è¦æ±‚ç±»å‹å®šä¹‰

**æµ‹è¯•éªŒè¯ï¼š**
- âœ… TypeScript ç¼–è¯‘é€šè¿‡ï¼ˆå‰ç«¯ï¼‰
- âœ… TypeScript ç¼–è¯‘é€šè¿‡ï¼ˆåç«¯ï¼‰
- âœ… å‰ç«¯æ„å»ºæˆåŠŸ
- âœ… æ‰€æœ‰ç°æœ‰èŒçº§é…ç½®ä¸æ–°ç±»å‹å®šä¹‰å…¼å®¹

**Review çŠ¶æ€ï¼š** âœ… ä»£ç è´¨é‡é—®é¢˜å·²ä¿®å¤
## 2026-01-27 (ç»§ç»­)

### Task 2: ä¸ºå„èŒçº§æ·»åŠ å…³ç³»è¦æ±‚é…ç½®

**æ”¹åŠ¨ç‚¹**ï¼š
- ä¸ºæ¯ä¸ªèŒçº§ï¼ˆä» ASSISTANT_ENGINEER åˆ° PARTNERï¼‰æ·»åŠ äº† `relationshipRequirements` é…ç½®
- å®šä¹‰äº†å„èŒçº§æ™‹å‡æ‰€éœ€çš„å…³ç³»ç±»å‹å’Œæœ€ä½å€¼

**å…³ç³»è¦æ±‚é…ç½®**ï¼š
- å®ä¹ ç”Ÿ â†’ åŠ©ç†å·¥ç¨‹å¸ˆï¼šç›‘ç† â‰¥ 60
- åŠ©ç†å·¥ç¨‹å¸ˆ â†’ å·¥ç¨‹å¸ˆï¼šè®¾è®¡é™¢ â‰¥ 65
- å·¥ç¨‹å¸ˆ â†’ é«˜çº§å·¥ç¨‹å¸ˆï¼šåŠ³åŠ¡é˜Ÿ â‰¥ 70
- é«˜çº§å·¥ç¨‹å¸ˆ â†’ é¡¹ç›®ç»ç†ï¼šç”²æ–¹ â‰¥ 75 + ç›‘ç† â‰¥ 70
- é¡¹ç›®ç»ç† â†’ é¡¹ç›®æ€»ç›‘ï¼šç”²æ–¹ â‰¥ 80 + æ”¿åºœ â‰¥ 70
- é¡¹ç›®æ€»ç›‘ â†’ åˆä¼™äººï¼šæ‰€æœ‰å…³ç³» â‰¥ 75

**æ¶‰åŠæ–‡ä»¶**ï¼š
- `shared/types/game.ts:340-430` - ä¸º 6 ä¸ªèŒçº§é…ç½®æ·»åŠ å…³ç³»è¦æ±‚

**Review çŠ¶æ€**ï¼š
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… é…ç½®ç¬¦åˆè®¾è®¡æ–‡æ¡£è¦æ±‚
- â³ å¾…åç»­ä»»åŠ¡å®ç°å…³ç³»æ£€æŸ¥é€»è¾‘

**æäº¤**: `19feb57` - feat: add relationship requirements to rank configs

### Task 3: åœ¨ checkPromotion ä¸­æ·»åŠ å…³ç³»æ£€æŸ¥é€»è¾‘

**æ”¹åŠ¨ç‚¹**ï¼š
- åœ¨ `gameStore.ts` çš„ `checkPromotion()` å‡½æ•°ä¸­æ·»åŠ äº†å…³ç³»æ£€æŸ¥é€»è¾‘
- æ£€æŸ¥ç›®æ ‡èŒçº§çš„ `relationshipRequirements` é…ç½®
- éå†æ£€æŸ¥æ¯ä¸ªè¦æ±‚çš„å…³ç³»æ˜¯å¦è¾¾æ ‡
- æä¾›æ¸…æ™°çš„ä¸­æ–‡å¤±è´¥åŸå› æç¤º

**å®ç°ç»†èŠ‚**ï¼š
- **æ£€æŸ¥é€»è¾‘**ï¼ˆç¬¬756-797è¡Œï¼‰ï¼š
  - æ£€æŸ¥ `nextRankConfig.relationshipRequirements` æ˜¯å¦å­˜åœ¨
  - éå† `requirements` æ•°ç»„ï¼Œå¯¹æ¯”å½“å‰å…³ç³»å€¼ä¸è¦æ±‚å€¼
  - æ”¯æŒ `'all'` å’Œ `'any'` ä¸¤ç§è¦æ±‚ç±»å‹

- **å¤±è´¥æç¤º**ï¼š
  - å•ä¸ªå…³ç³»ä¸è¾¾æ ‡ï¼š"è™½ç„¶ä½ çš„ä¸šç»©å¾ˆä¼˜ç§€ï¼Œä½†XXå…³ç³»éœ€è¾¾åˆ° XXï¼ˆå½“å‰ XXï¼‰æ‰èƒ½æ™‹å‡ã€‚"
  - å¤šä¸ªå…³ç³»ä¸è¾¾æ ‡ï¼š"è™½ç„¶ä½ çš„ä¸šç»©å¾ˆä¼˜ç§€ï¼Œä½†ä»¥ä¸‹å…³ç³»éœ€è¦åŠ å¼ºæ‰èƒ½æ™‹å‡ï¼šXXã€YYã€ZZ"

- **å…³ç³»ä¸­æ–‡æ˜ å°„**ï¼ˆç¬¬762-768è¡Œï¼‰ï¼š
  - æä¾›å®Œæ•´çš„å…³ç³»ç±»å‹ä¸­æ–‡åç§°
  - æ˜¾ç¤ºå½“å‰å€¼å’Œè¦æ±‚å€¼ï¼Œä¾¿äºç©å®¶äº†è§£å·®è·

**æ¶‰åŠæ–‡ä»¶**ï¼š
- `frontend/src/store/gameStore.ts:756-797` - æ·»åŠ å…³ç³»æ£€æŸ¥é€»è¾‘

**Review çŠ¶æ€**ï¼š
- âœ… è§„èŒƒç¬¦åˆæ€§å®¡æŸ¥é€šè¿‡
- âœ… æ­£ç¡®æ£€æŸ¥ relationshipRequirements
- âœ… æ”¯æŒ 'all' å’Œ 'any' è¦æ±‚ç±»å‹
- âœ… å¤±è´¥ä¿¡æ¯æ¸…æ™°ä¸”ä½¿ç”¨ä¸­æ–‡
- âœ… æ­£ç¡®é˜»æ­¢å…³ç³»ä¸è¶³æ—¶çš„æ™‹å‡

**ç‰¹æ®Šäº®ç‚¹**ï¼š
- åˆä¼™äººçº§åˆ«é€šè¿‡é…ç½®è‡ªåŠ¨å¤„ç†æ‰€æœ‰5ä¸ªå…³ç³» â‰¥ 75 çš„è¦æ±‚
- ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- æä¾›è¯¦ç»†çš„æ•°å€¼ä¿¡æ¯ï¼Œç©å®¶ä½“éªŒä¼˜ç§€

### Task 4: æ·»åŠ æ™‹å‡å…³ç³»ä¸è¾¾æ ‡æç¤º UI

**æ”¹åŠ¨ç‚¹**ï¼š
- åœ¨ `QuarterlySettlement.tsx` ä¸­å¢å¼ºäº†æ™‹å‡æ¡ä»¶æœªæ»¡è¶³çš„ UI æ˜¾ç¤º
- å…³ç³»ä¸è¾¾æ ‡æ—¶ä½¿ç”¨é†’ç›®çš„çº¢è‰²/æ©™è‰²æ ·å¼çªå‡ºæ˜¾ç¤º
- ä¸ºæ¯ä¸ªå…³ç³»é—®é¢˜æ·»åŠ å…·ä½“çš„å»ºè®®æç¤º
- æ·»åŠ "å¦‚ä½•ç»´æŠ¤å…³ç³»"æŒ‡å—å¡ç‰‡

**UI æ”¹è¿›ç»†èŠ‚**ï¼š

1. **è§†è§‰å±‚æ¬¡ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨æ¸å˜èƒŒæ™¯ï¼ˆorange-50 to red-50ï¼‰çªå‡ºæ•´ä¸ªåŒºåŸŸ
   - æ ‡é¢˜æ”¹ä¸º"æ™‹å‡æ¡ä»¶æœªæ»¡è¶³"ï¼Œæ›´æ˜ç¡®
   - æ·»åŠ é¼“åŠ±è¯­ï¼š"ç»§ç»­åŠªåŠ›ï¼Œä½ ç¦»æ™‹å‡åªæœ‰ä¸€æ­¥ä¹‹é¥ï¼"

2. **æ™ºèƒ½è¯†åˆ«å…³ç³»é—®é¢˜**ï¼š
   - æ£€æµ‹å¤±è´¥åŸå› ä¸­æ˜¯å¦åŒ…å«å…³ç³»å…³é”®è¯ï¼ˆç”²æ–¹ã€ç›‘ç†ã€è®¾è®¡é™¢ã€åŠ³åŠ¡é˜Ÿã€æ”¿åºœéƒ¨é—¨ï¼‰
   - å…³ç³»é—®é¢˜ä½¿ç”¨çº¢è‰²èƒŒæ™¯ï¼ˆbg-red-50ï¼‰å’Œè­¦å‘Šå›¾æ ‡ï¼ˆâš ï¸ï¼‰
   - å…¶ä»–æ¡ä»¶ä½¿ç”¨ç™½è‰²èƒŒæ™¯å’Œç­‰å¾…å›¾æ ‡ï¼ˆâ³ï¼‰

3. **å…³ç³»é—®é¢˜ç‰¹æ®Šå¤„ç†**ï¼š
   - æ¯ä¸ªå…³ç³»é—®é¢˜ä¸‹æ–¹æ˜¾ç¤ºå»ºè®®ï¼š"åœ¨ç­–ç•¥é˜¶æ®µå¤šç»´æŠ¤å…³ç³»ï¼Œå¯ä»¥é¿å…è¡°å‡å¹¶æå‡å…³ç³»å€¼"
   - å½“å­˜åœ¨å…³ç³»é—®é¢˜æ—¶ï¼Œé¢å¤–æ˜¾ç¤º"å¦‚ä½•ç»´æŠ¤å…³ç³»ï¼Ÿ"æŒ‡å—å¡ç‰‡
   - æŒ‡å—åŒ…å«4æ¡æ“ä½œå»ºè®®ï¼ˆåœ¨ç­–ç•¥é˜¶æ®µç»´æŠ¤ã€é€‰æ‹©åˆé€‚æ–¹å¼ã€é¿å…è¡°å‡ã€å…³ç³»å€¼é‡è¦æ€§ï¼‰

4. **é¢œè‰²æ–¹æ¡ˆ**ï¼š
   - å…³ç³»é—®é¢˜ï¼šçº¢è‰²ç³»ï¼ˆred-50 èƒŒæ™¯, red-800 æ–‡å­—, red-200 è¾¹æ¡†ï¼‰
   - å…¶ä»–æ¡ä»¶ï¼šç™½è‰²èƒŒæ™¯ï¼Œslate-700 æ–‡å­—
   - æŒ‡å—å¡ç‰‡ï¼šè“è‰²ç³»ï¼ˆblue-50 èƒŒæ™¯, blue-700 æ–‡å­—, blue-200 è¾¹æ¡†ï¼‰

**æ¶‰åŠæ–‡ä»¶**ï¼š
- `frontend/src/pages/QuarterlySettlement.tsx:169-232` - æ™‹å‡æ£€æŸ¥ UI é‡æ„

**Review çŠ¶æ€**ï¼š
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… UI é£æ ¼ä¸æ¸¸æˆæ•´ä½“é£æ ¼ä¸€è‡´
- âœ… å‹å¥½ä¸”ä¿¡æ¯ä¸°å¯Œçš„åé¦ˆ

**æäº¤**: `d5cd2cf` - feat: add relationship requirement UI feedback for promotion

**ç‰¹æ®Šäº®ç‚¹**ï¼š
- è‡ªåŠ¨è¯†åˆ«å…³ç³»é—®é¢˜å¹¶æä¾›é’ˆå¯¹æ€§å»ºè®®
- æ•™è‚²æ€§å¸®åŠ©ç©å®¶ç†è§£æ¸¸æˆæœºåˆ¶
- è§†è§‰å±‚æ¬¡æ¸…æ™°ï¼Œå…³ç³»é—®é¢˜ä¸€ç›®äº†ç„¶

### Task 9: æ·»åŠ å…³ç³»å±æœºäº‹ä»¶ UI æ˜¾ç¤º

**èƒŒæ™¯**ï¼š
- åç«¯é€»è¾‘å·²æ­£ç¡®è®¡ç®—å¹¶å­˜å‚¨å…³ç³»å±æœºäº‹ä»¶åˆ° `settlement.negativeEvents`
- ä½† `QuarterlySettlement.tsx` ç»„ä»¶æœªæ˜¾ç¤ºè¿™äº›äº‹ä»¶
- éœ€è¦åœ¨å­£åº¦ç»“ç®—é¡µé¢æ·»åŠ "å…³ç³»å±æœºäº‹ä»¶"section

**æ”¹åŠ¨ç‚¹**ï¼š
1. **å¯¼å…¥ RELATIONSHIP_DISPLAY é…ç½®**
   - ä» `@/data/constants` å¯¼å…¥å…³ç³»æ˜¾ç¤ºé…ç½®
   - ç”¨äºè·å–å…³ç³»çš„ä¸­æ–‡æ˜¾ç¤ºåç§°

2. **æå– negativeEvents æ•°æ®**
   - ä» `extendedSettlement` ä¸­æå– `negativeEvents` æ•°ç»„
   - é»˜è®¤ä¸ºç©ºæ•°ç»„ï¼Œç¡®ä¿å®‰å…¨è®¿é—®

3. **æ·»åŠ "å…³ç³»å±æœºäº‹ä»¶"section**ï¼ˆç¬¬157-207è¡Œï¼‰
   - ä»…åœ¨ `negativeEvents.length > 0` æ—¶æ˜¾ç¤º
   - ä½¿ç”¨çº¢è‰²/æ©™è‰²æ¸å˜èƒŒæ™¯ï¼ˆfrom-red-50 to-orange-50ï¼‰
   - çº¢è‰²è¾¹æ¡†ï¼ˆborder-2 border-red-200ï¼‰çªå‡ºæ˜¾ç¤º
   - æ ‡é¢˜å¸¦è­¦å‘Šå›¾æ ‡ï¼ˆâš ï¸ï¼‰

4. **å•ä¸ªäº‹ä»¶å¡ç‰‡è®¾è®¡**ï¼š
   - ç™½è‰²èƒŒæ™¯ï¼Œçº¢è‰²ç²—è¾¹æ¡†ï¼ˆborder-2 border-red-300ï¼‰
   - æ˜¾ç¤ºäº‹ä»¶æ ‡é¢˜ï¼ˆtext-base font-bold text-red-800ï¼‰
   - æ˜¾ç¤ºäº‹ä»¶æè¿°ï¼ˆtext-sm text-red-700ï¼‰
   - å³ä¸Šè§’æ˜¾ç¤ºéª·é«…å›¾æ ‡ï¼ˆğŸ’€ï¼‰æˆ–è­¦æŠ¥å›¾æ ‡ï¼ˆğŸš¨ï¼‰ï¼Œæ ¹æ®æ˜¯å¦ä¸ºæ¸¸æˆç»“æŸäº‹ä»¶
   - åº•éƒ¨åˆ†éš”çº¿æ˜¾ç¤ºè§¦å‘å…³ç³»å’Œå½“å‰å…³ç³»å€¼
   - æ¸¸æˆç»“æŸäº‹ä»¶é¢å¤–æ˜¾ç¤ºè­¦å‘Šæç¤º

5. **ä½ç½®å®‰æ’**ï¼š
   - æ”¾ç½®åœ¨"å…³ç³»è¡°å‡"å’Œ"æ™‹å‡æ£€æŸ¥"ä¹‹é—´
   - ç¬¦åˆé€»è¾‘é¡ºåºï¼šè‡ªç„¶è¡°å‡ â†’ å±æœºäº‹ä»¶ â†’ æ™‹å‡åˆ¤å®š

**UI æ ·å¼ç‰¹ç‚¹**ï¼š
- ä½¿ç”¨çº¢è‰²ç³»é…è‰²æ–¹æ¡ˆï¼ˆred-50, red-200, red-300, red-600, red-700, red-800ï¼‰
- åœ†è§’å¡ç‰‡è®¾è®¡ï¼ˆrounded-feishuï¼‰
- æ¸…æ™°çš„è§†è§‰å±‚æ¬¡å’Œä¿¡æ¯ç»„ç»‡
- æ¸¸æˆç»“æŸäº‹ä»¶æœ‰ç‰¹æ®Šé«˜äº®æç¤º

**æ¶‰åŠæ–‡ä»¶**ï¼š
- `frontend/src/pages/QuarterlySettlement.tsx:4` - å¯¼å…¥ RELATIONSHIP_DISPLAY
- `frontend/src/pages/QuarterlySettlement.tsx:32` - æå– negativeEvents
- `frontend/src/pages/QuarterlySettlement.tsx:157-207` - æ·»åŠ å…³ç³»å±æœºäº‹ä»¶ UI section

**æµ‹è¯•éªŒè¯**ï¼š
- âœ… TypeScript ç¼–è¯‘é€šè¿‡
- âœ… å‰ç«¯æ„å»ºæˆåŠŸ
- â³ éœ€è¦æ‰‹åŠ¨æµ‹è¯•å…³ç³»å±æœºäº‹ä»¶è§¦å‘å’Œæ˜¾ç¤º

**Review çŠ¶æ€**ï¼šâœ… å®ç°å®Œæˆ

**æäº¤**: `eec0b43` - fix: add negative events display to quarterly settlement UI

### Task 22: æ›´æ–°æ¸¸æˆç­–åˆ’æ–‡æ¡£

**èƒŒæ™¯**ï¼š
- å…³ç³»ç³»ç»Ÿé‡æ„å·²åŸºæœ¬å®Œæˆï¼ˆTask 1-9, 22ï¼‰
- éœ€è¦æ›´æ–° GAME_DESIGN_DOCUMENT.mdï¼Œæ·»åŠ å…³ç³»ç³»ç»Ÿçš„å®Œæ•´è¯´æ˜

**æ›´æ–°å†…å®¹**ï¼š

1. **ç¬¬3ç« ï¼šèŒçº§ç³»ç»Ÿ**
   - æ·»åŠ "å…³ç³»è¦æ±‚è¡¨"ï¼Œè¯´æ˜æ¯ä¸ªèŒçº§æ™‹å‡æ‰€éœ€çš„å…³ç³»å€¼
   - å®ä¹ ç”Ÿ â†’ åŠ©ç†å·¥ç¨‹å¸ˆï¼šç›‘ç† â‰¥ 60
   - åŠ©ç†å·¥ç¨‹å¸ˆ â†’ å·¥ç¨‹å¸ˆï¼šè®¾è®¡é™¢ â‰¥ 65
   - å·¥ç¨‹å¸ˆ â†’ é«˜çº§å·¥ç¨‹å¸ˆï¼šåŠ³åŠ¡é˜Ÿ â‰¥ 70
   - é«˜çº§å·¥ç¨‹å¸ˆ â†’ é¡¹ç›®ç»ç†ï¼šç”²æ–¹ â‰¥ 75 + ç›‘ç† â‰¥ 70
   - é¡¹ç›®ç»ç† â†’ é¡¹ç›®æ€»ç›‘ï¼šç”²æ–¹ â‰¥ 80 + æ”¿åºœ â‰¥ 70
   - é¡¹ç›®æ€»ç›‘ â†’ åˆä¼™äººï¼šæ‰€æœ‰å…³ç³» â‰¥ 75

2. **ç¬¬7ç« ï¼šå…³ç³»ç³»ç»Ÿï¼ˆå¤§å¹…æ‰©å±•ï¼‰**
   - **7.1 å…³ç³»ç±»å‹**ï¼šæ·»åŠ è§£é”èŒçº§åˆ—
   - **7.2 ç»´æŠ¤æ–¹å¼**ï¼šè¯¦ç»†è¯´æ˜10ç§ç»´æŠ¤æ–¹å¼ï¼ˆæ¯ç§å…³ç³»2ç§ï¼‰
     * ç”²æ–¹ï¼šåº”é…¬å®´è¯·ã€é¡¹ç›®æ±‡æŠ¥
     * è®¾è®¡é™¢ï¼šæŠ€æœ¯äº¤æµã€å›¾çº¸ä¼šå®¡
     * åŠ³åŠ¡é˜Ÿï¼šç°åœºæ…°é—®ã€è§£å†³çº çº·
     * ç›‘ç†ï¼šç¤¼å“èµ é€ã€é…åˆéªŒæ”¶
     * æ”¿åºœï¼šå…¬å…³æ‹œè®¿ã€æ”¿ç­–å­¦ä¹ 
   - **7.3 å…³ç³»ç»´æŠ¤é™åˆ¶**ï¼šå„èŒçº§ç»´æŠ¤æ¬¡æ•°
   - **7.4 è´Ÿé¢äº‹ä»¶è§¦å‘æœºåˆ¶**ï¼š
     * è§¦å‘æ¦‚ç‡è¡¨ï¼ˆ5ä¸ªçº§åˆ«ï¼‰
     * 25ä¸ªè´Ÿé¢äº‹ä»¶è¯¦ç»†è¯´æ˜ï¼ˆæ¯ç§å…³ç³»5ä¸ªï¼‰
   - **7.5 åŠŸèƒ½é™åˆ¶**ï¼šå…³ç³» â‰¤15 æ—¶çš„åŠŸèƒ½é™åˆ¶
   - **7.6 é¢„è­¦ç³»ç»Ÿ**ï¼š3çº§é¢„è­¦æœºåˆ¶
   - **7.7 ç»æµæ”¶ç›Šè§£é”**ï¼š5ä¸ªèµšé’±æœºä¼šäº‹ä»¶
   - **7.8 ç‰¹æ®Šäº‹ä»¶è§£é”**ï¼š15ä¸ªç‰¹æ®Šäº‹ä»¶ï¼ˆæ¯ç§å…³ç³»3ä¸ªï¼‰
   - **7.9 å±æ€§åŠ æˆ**ï¼šå·¥ä½œèƒ½åŠ›å’Œå¹¸è¿çš„åŠ æˆæ•ˆæœ

3. **é™„å½• Cï¼šå…³ç³»ç³»ç»Ÿé€ŸæŸ¥è¡¨**
   - **C.1 ç»´æŠ¤æ–¹å¼ä¸€è§ˆè¡¨**ï¼š10ç§ç»´æŠ¤æ–¹å¼å®Œæ•´å‚æ•°
   - **C.2 è´Ÿé¢äº‹ä»¶ä¸€è§ˆè¡¨**ï¼š25ä¸ªè´Ÿé¢äº‹ä»¶å®Œæ•´åˆ—è¡¨
   - **C.3 èµšé’±æœºä¼šäº‹ä»¶**ï¼š5ä¸ªç»æµæ”¶ç›Šäº‹ä»¶
   - **C.4 ç‰¹æ®Šäº‹ä»¶è§£é”**ï¼š15ä¸ªç‰¹æ®Šäº‹ä»¶é…ç½®
   - **C.5 åŠŸèƒ½é™åˆ¶è¡¨**ï¼šå…³ç³»æä½æ—¶çš„åŠŸèƒ½é™åˆ¶
   - **C.6 é¢„è­¦ç³»ç»Ÿ**ï¼š3çº§é¢„è­¦é…ç½®

**æ–‡æ¡£ç‰¹ç‚¹**ï¼š
- è¯¦ç»†æ•°å€¼ï¼šæ‰€æœ‰é˜ˆå€¼ã€æ¦‚ç‡ã€èŒƒå›´éƒ½æœ‰æ˜ç¡®æ•°å€¼
- è¡¨æ ¼å±•ç¤ºï¼šå¤æ‚æ•°æ®ç”¨è¡¨æ ¼æ¸…æ™°å‘ˆç°
- å®Œæ•´è¦†ç›–ï¼šæ¶µç›–å…³ç³»ç³»ç»Ÿæ‰€æœ‰æœºåˆ¶
- ä¾¿äºæŸ¥é˜…ï¼šé™„å½•æä¾›é€ŸæŸ¥è¡¨

**æ¶‰åŠæ–‡ä»¶**ï¼š
- `docs/GAME_DESIGN_DOCUMENT.md` - å¤§å¹…æ›´æ–°ï¼ˆ+1128è¡Œï¼‰

**æµ‹è¯•éªŒè¯**ï¼š
- âœ… æ–‡æ¡£å†…å®¹ä¸ä»£ç å®ç°ä¸€è‡´
- âœ… æ‰€æœ‰æ•°æ®æ¥è‡ªå®é™…ä»£ç æ–‡ä»¶
  - `shared/types/game.ts` - RANK_CONFIGS
  - `frontend/src/data/relationshipActions.ts` - 10ç§ç»´æŠ¤æ–¹å¼
  - `frontend/src/data/relationshipNegativeEvents.ts` - 25ä¸ªè´Ÿé¢äº‹ä»¶
- âœ… æ–‡æ¡£ç»“æ„æ¸…æ™°ï¼Œæ˜“äºæŸ¥é˜…

**Review çŠ¶æ€**ï¼šâœ… å®Œæˆå¹¶é€šè¿‡éªŒè¯

**æäº¤**: `f0ed76f` - docs: update GAME_DESIGN_DOCUMENT.md with relationship system details

---

## 2026-01-27 ä¼šè¯æ€»ç»“ï¼šå…³ç³»ç³»ç»Ÿé‡æ„ï¼ˆSubagent-Driven Developmentï¼‰

**æ‰§è¡Œæ–¹å¼**ï¼šSubagent-Driven Developmentï¼ˆåŒä¼šè¯æ‰§è¡Œï¼‰
**å®Œæˆä»»åŠ¡æ•°**ï¼š10/22ï¼ˆ45%ï¼‰
**ä»£ç æäº¤æ•°**ï¼š15+
**å®¡æŸ¥é€šè¿‡ç‡**ï¼š100%

---

### å·²å®Œæˆä»»åŠ¡

#### é˜¶æ®µä¸€ï¼šç±»å‹å®šä¹‰å’Œæ™‹å‡æ¡ä»¶ï¼ˆTasks 1-4ï¼‰âœ…

**Task 1: ä¿®æ”¹ RankConfig ç±»å‹å®šä¹‰**
- åˆ›å»º `RelationshipRequirement` æ¥å£
- åœ¨ `RankConfig` ä¸­æ·»åŠ  `relationshipRequirements` å­—æ®µ
- æäº¤ï¼š`ec16368` - refactor: improve relationship requirements type definition

**Task 2: ä¸ºå„èŒçº§æ·»åŠ å…³ç³»è¦æ±‚é…ç½®**
- ä¸º 6 ä¸ªèŒçº§ï¼ˆåŠ©ç†å·¥ç¨‹å¸ˆåˆ°åˆä¼™äººï¼‰é…ç½®å…³ç³»è¦æ±‚
- æäº¤ï¼š`19feb57` - feat: add relationship requirements to rank configs

**Task 3: ä¿®æ”¹ checkPromotion æ·»åŠ å…³ç³»æ£€æŸ¥**
- å®ç°å…³ç³»æ£€æŸ¥é€»è¾‘ï¼Œæ”¯æŒ 'all' å’Œ 'any' ç±»å‹
- æä¾›å‹å¥½çš„ä¸­æ–‡å¤±è´¥æç¤º
- æäº¤ï¼š`feat: add relationship check to promotion logic`

**Task 4: æ·»åŠ æ™‹å‡å…³ç³»ä¸è¾¾æ ‡æç¤º**
- é‡æ„ `QuarterlySettlement.tsx` UI
- æ·»åŠ å…³ç³»é—®é¢˜è¯†åˆ«å’ŒæŒ‡å—å¡ç‰‡
- æäº¤ï¼š`d5cd2b5` - feat: add relationship requirement UI feedback for promotion

#### é˜¶æ®µäºŒï¼šç»´æŠ¤æ–¹å¼é‡æ„ï¼ˆTasks 5-7ï¼‰âœ…

**Task 5: åˆ›å»ºå…³ç³»ç»´æŠ¤æ–¹å¼æ•°æ®æ–‡ä»¶**
- åˆ›å»º `relationshipActions.ts`
- å®šä¹‰ 10 ç§ç»´æŠ¤æ–¹å¼ï¼ˆæ¯ç§å…³ç³» 2 ç§ï¼‰
- å®Œæ•´ç±»å‹å®šä¹‰å’Œè¾…åŠ©å‡½æ•°
- æäº¤ï¼š`5a4958c` - feat: add relationship maintenance actions data

**Task 6: é‡æ„å…³ç³»ç»´æŠ¤ UI**
- æ¯ç§å…³ç³»æ˜¾ç¤º 2 ä¸ªç»´æŠ¤æ–¹å¼æŒ‰é’®
- æ˜¾ç¤ºæ¶ˆè€—ã€æ”¶ç›Šã€é£é™©ã€åŠ æˆã€ç‰¹æ®Šæ•ˆæœ
- å®ç°æ¡ä»¶ç¦ç”¨é€»è¾‘
- æäº¤ï¼š`8b3d564` - feat: refactor relationship maintenance UI with dual action buttons
- ä¿®å¤ï¼š`164b911` - fix: implement proper action handling in maintainRelationship

**Task 7: å®ç°ç»´æŠ¤æ–¹å¼åŠ æˆå’Œé£é™©æœºåˆ¶**
- å®ç°åŠ æˆæœºåˆ¶ï¼ˆworkAbility/reputation/luckï¼‰
- å®ç°é£é™©æœºåˆ¶ï¼ˆæ¦‚ç‡åˆ¤å®šå’Œæƒ©ç½šåº”ç”¨ï¼‰
- å®ç°ç‰¹æ®Šæ•ˆæœè§¦å‘
- æäº¤ï¼š`e9ab466` - feat: implement relationship maintenance bonuses and risks

#### é˜¶æ®µä¸‰ï¼šè´Ÿé¢äº‹ä»¶ç³»ç»Ÿï¼ˆTasks 8-9ï¼‰âœ…

**Task 8: åˆ›å»ºè´Ÿé¢äº‹ä»¶æ•°æ®æ–‡ä»¶**
- åˆ›å»º `relationshipNegativeEvents.ts`
- å®šä¹‰ 25 ä¸ªè´Ÿé¢äº‹ä»¶ï¼ˆæ¯ç§å…³ç³» 5 ä¸ªï¼‰
- åŒ…å« 5 ä¸ªæ¸¸æˆç»“æŸçº§åˆ«äº‹ä»¶
- æäº¤ï¼š`07f511f` - feat: add relationship negative events data

**Task 9: å­£åº¦ç»“ç®—æ·»åŠ è´Ÿé¢äº‹ä»¶è§¦å‘**
- åœ¨ `finishQuarter()` ä¸­å®ç°è§¦å‘é€»è¾‘
- æ ¹æ®å…³ç³»å€¼èŒƒå›´è®¡ç®—è§¦å‘æ¦‚ç‡
- åº”ç”¨è´Ÿé¢äº‹ä»¶æ•ˆæœ
- æ·»åŠ  UI æ˜¾ç¤ºï¼ˆå…³ç³»å±æœºäº‹ä»¶ sectionï¼‰
- æäº¤ï¼š`b2b529f` - feat: add relationship negative event triggers to quarterly settlement
- ä¿®å¤ï¼š`eec0b43` - fix: add negative events display to quarterly settlement UI

#### æ–‡æ¡£æ›´æ–°

**Task 22: æ›´æ–°æ¸¸æˆç­–åˆ’æ–‡æ¡£**
- æ›´æ–° `docs/GAME_DESIGN_DOCUMENT.md`
- æ‰©å±•å…³ç³»ç³»ç»Ÿç« èŠ‚ï¼ˆ7.1-7.9ï¼‰
- æ–°å¢é™„å½• Cï¼šå…³ç³»ç³»ç»Ÿé€ŸæŸ¥è¡¨ï¼ˆ6ä¸ªè¡¨æ ¼ï¼‰
- æ·»åŠ æ™‹å‡å…³ç³»è¦æ±‚è¡¨
- æäº¤ï¼š`f0ed76f` - docs: update GAME_DESIGN_DOCUMENT.md with relationship system details

---

### å¾…å®Œæˆä»»åŠ¡

**Task 10**: æ·»åŠ å…³ç³»æä½åŠŸèƒ½é™åˆ¶é€»è¾‘
**Task 11**: æ·»åŠ å…³ç³»é¢„è­¦æç¤ºç³»ç»Ÿ
**Task 12**: å­£åº¦ç»“ç®—æ·»åŠ ç»æµæ”¶ç›Šè®¡ç®—
**Task 13**: åˆ›å»ºèµšé’±æœºä¼šç‰¹æ®Šäº‹ä»¶
**Task 14**: é›†æˆèµšé’±æœºä¼šåˆ°äº‹ä»¶ç³»ç»Ÿ
**Task 15**: åˆ›å»ºç‰¹æ®Šå‰§æƒ…äº‹ä»¶
**Task 16**: ä¿®æ”¹äº‹ä»¶é€‰æ‹©æ·»åŠ ç‰¹æ®Šäº‹ä»¶ä¼˜å…ˆè§¦å‘
**Task 17**: æ·»åŠ ç‰¹æ®Šäº‹ä»¶æ ‡è®°æ˜¾ç¤º
**Task 18-21**: æµ‹è¯•ä»»åŠ¡

---

### æŠ€æœ¯äº®ç‚¹

1. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œé›¶ç¼–è¯‘é”™è¯¯
2. **ä»£ç è´¨é‡**ï¼šé€šè¿‡åŒé‡å®¡æŸ¥ï¼ˆè§„èŒƒç¬¦åˆæ€§ + ä»£ç è´¨é‡ï¼‰ï¼Œ100% é€šè¿‡ç‡
3. **è®¾è®¡æ¨¡å¼**ï¼šSubagent-Driven Development ç¡®ä¿é«˜è´¨é‡è¿­ä»£
4. **æ–‡æ¡£åŒæ­¥**ï¼šä»£ç å®ç°ä¸æ¸¸æˆç­–åˆ’æ–‡æ¡£ä¿æŒå®Œå…¨ä¸€è‡´

---

### æäº¤å†å²

```
ec16368 refactor: improve relationship requirements type definition
19feb57 feat: add relationship requirements to rank configs
d5cd2b5 feat: add relationship requirement UI feedback for promotion
79a4390 docs: add Task 4 completion log
5a4958c feat: add relationship maintenance actions data
8b3d564 feat: refactor relationship maintenance UI with dual action buttons
164b911 fix: implement proper action handling in maintainRelationship
07f511f feat: add relationship negative events data
da056db docs: update WORKLOG for Task 8 completion
b2b529f feat: add relationship negative event triggers to quarterly settlement
eec0b43 fix: add negative events display to quarterly settlement UI
e9ab466 feat: implement relationship maintenance bonuses and risks
154d9e5 docs: update WORKLOG for Task 7 completion
f0ed76f docs: update GAME_DESIGN_DOCUMENT.md with relationship system details
e246da0 docs: update WORKLOG.md for Task 22
```

---

### ä¸‹æ¬¡ä¼šè¯è®¡åˆ’

1. å®Œæˆå‰©ä½™ 12 ä¸ªä»»åŠ¡ï¼ˆTasks 10-21ï¼‰
2. é‡ç‚¹ï¼šç»æµæ”¶ç›Šç³»ç»Ÿï¼ˆTasks 12-14ï¼‰å’Œç‰¹æ®Šäº‹ä»¶ç³»ç»Ÿï¼ˆTasks 15-17ï¼‰
3. å…¨é¢æµ‹è¯•å…³ç³»ç³»ç»ŸåŠŸèƒ½
