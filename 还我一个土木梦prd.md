PRD v0.1｜还我一个土木梦（Mobile Web）
1. 项目概述
● 产品形态：H5 手机网页小游戏（首发），后续可迁移小程序
● 游戏类型：3-5 分钟一局的“项目生存模拟 + 事件抽卡 + 战绩单结算”
● 核心卖点：土木项目管理的“成本-工期-质量”博弈，外加极强的战绩单可晒（职级+资产+项目履历+排行榜）
1.1 一句话玩法
你从“工地小白”开始，连续接项目做决策、扛变更、控风险，最终拿到职级 + 净资产 + 项目战绩 + 全球排名的结算卡。
1.2 版本目标（MVP）
● 让用户在 10 秒内开局、3-5 分钟结束、结算页愿意截图分享、能进排行榜对比
● 目标指标（上线后7天内观察）：
  ○ 开局转化率 ≥ 70%
  ○ 完局率 ≥ 45%
  ○ 分享率 ≥ 10%
  ○ 人均游玩局数 ≥ 2.0

2. 目标用户与使用场景
2.1 目标用户
● 核心：土木/建筑/工程管理相关从业者与学生
● 扩散：泛职场用户（懂“赶工/预算/甲方改需求”的那类共鸣）
2.2 使用场景
● 通勤/午休刷一局
● 朋友圈/群聊看到“战绩单截图”点进来挑战排名
● 同圈子比拼：谁利润高、谁工期控得住、谁签证拿得多

3. 核心玩法设计（第一版）
3.1 核心循环
选项目 → 每回合事件+决策 → 指标变化 → 结算战绩单 → 上榜/分享 → 再来一局
3.2 关键数值（MVP只保留 5 个）
数值	含义	归零即失败？
现金流 Cash	进度款/成本压力	是（<0爆）
健康 Health	身体/精神抗压	是（≤0爆）
声望 Rep	甲方/老板/同行评价	否（影响事件概率）
进度 Prog	工期推进	是（超期太多触发失败）
质量 Qual	返工风险	否（但会吞钱+吞进度）
3.3 玩家每回合只有 1 次选择（快节奏）
每回合弹出一张“事件卡”，3 个选项：
● 赶工：进度↑ 现金流↓ 健康↓ 质量风险↑
● 控成本：现金流↑ 声望↓ 进度↓
● 保质量：质量↑ 现金流↓ 进度↓
你可以把“事件卡”做得很梗：暴雨停工、甲方改图、监理挑刺、夜间赶工、进度款拖欠等。

4. 结算系统（传播爆点核心）
4.1 结算页必须输出的“战绩单四件套”
1. 职级/称号（段位）
2. 净资产（具体金额）
3. 项目履历（做了什么）
4. 排名（总榜+分榜）
示例文案格式：
● 🏗️ 职级：项目经理（市政A档）
● 💰 净资产：￥3,280,000
● 📌 完工：地铁站 1 / 商住 2 / 道路 6km
● 📊 综合榜：Top 7%（第 12,340 名）
4.2 职级体系（MVP 8 段）
实习生 → 技术员 → 施工员 → 栋号长 → 工区负责人 → 项目副经理 → 项目经理 → 区域总
晋升条件只看：累计完工数、净资产阈值、声望阈值（别复杂）

5. 排行榜（增长引擎）
5.1 榜单设计（建议 MVP 就上“总榜+2个分榜”）
● 综合榜：综合评分（用于“全服排名”）
● 利润榜：净资产最高
● 工期榜：最短完工回合数
综合评分建议：
$$Score = 0.35 \cdot RankLevel + 0.35 \cdot Wealth + 0.15 \cdot Rep + 0.15 \cdot Health$$
5.2 反作弊（MVP最低限）
排行榜极容易被刷，需要最低限防护思路：异常分数拦截、频次限制、签名校验。(CSDN博客)
MVP 规则：
● 单局提交必须携带 runId + 签名（后端生成）
● 限流：同IP/设备 每小时最多提交 N 次
● 异常值：净资产/回合数超阈值直接丢弃并标记

6. 分享传播（H5必做）
6.1 分享两条路
A. 链接预览卡（适合群聊/朋友圈外链）
● 网页 <head> 配 Open Graph：og:title/og:description/og:image/og:url，决定分享卡标题和缩略图 (烧饼吹水铺)
B. 生成“战绩海报图”（最强传播）
● 用 Canvas 合成一张可保存的成绩单海报（头像/称号/净资产/排名）(CSDN博客)
你做“海报保存”会比纯链接分享强很多，用户爱发图。
6.2 海报内容（固定模板）
● 标题：还我一个土木梦
● 玩家称号（大号字体）
● 净资产（醒目）
● 榜单名次
● 关键履历（完工数/变更数/超期次数）
● 二维码/短链（回流入口）

7. 页面与交互（Mobile Web）
7.1 页面结构（MVP 4 页）
1. 首页/开局页：一句话介绍 + 开始游戏 + 查看排行榜
2. 游戏页：事件卡 + 三选一按钮 + 顶部数值条
3. 结算页：战绩单 + 分享海报 + 再来一局 + 上榜
4. 排行榜页：总榜/利润榜/工期榜 Tab + 我的排名
7.2 交互原则
● 单手操作：按钮大、少输入
● 10秒内开局：不强制登录
● 失败也有梗：失败结局也能晒（比如“爆现金流”“超期被换人”）

8. 前后端方案（工程拆解）
8.1 前端（H5）
目标：轻、快、适配手机
● 技术建议：React/Vue/纯TS都行（你 vibing coding 用哪个顺手用哪个）
● 核心模块：
  ○ 事件渲染器（卡牌UI）
  ○ 状态管理（5个数值）
  ○ 结算计算器（分数/称号/榜单数据）
  ○ Canvas海报生成器（导出图片）(CSDN博客)
  ○ OG meta（分享预览）(烧饼吹水铺)
适配：
● 375px 优先（iPhone），再做响应式
● PWA 可选（先不做）
8.2 后端（MVP必需程度：中等）
如果你要排行榜，就必须有后端。
API（最小集合）
● POST /run/start：创建一局，返回 runId 和 serverSeed
● POST /run/finish：提交结算（runId、score、payload、signature）
● GET /leaderboard?type=overall&limit=50
● GET /me/rank?deviceId=xxx
数据库表（最小）
● runs：runId, deviceId, startAt, endAt, score, payloadHash
● leaderboard_overall：deviceId, bestScore, updatedAt
● leaderboard_profit：deviceId, bestWealth, updatedAt
签名与校验（MVP做轻量）
● start 时后端下发 token
● finish 时校验 token + 数据范围 + 频次

9. 埋点与数据分析（必须）
核心漏斗：
● 进入首页 → 点击开始 → 完局 → 结算页停留 → 点击分享/保存 → 再来一局 → 打开排行榜
关键事件：
● game_start
● choice_made（记录选项类型）
● game_end（成功/失败原因）
● share_click
● poster_saved
● leaderboard_view

10. 里程碑（建议）
● Day 1-2：事件池 + 数值模型定稿（先 60 张卡）
● Day 3-4：前端核心流程跑通（开局→回合→结算）
● Day 5：排行榜后端 + 前端榜单页
● Day 6：海报生成 + OG 分享预览
● Day 7：上线（GitHub Pages/Cloudflare Pages）+ 埋点

11. MVP 事件池要求（给开发的硬标准）
● 事件卡 ≥ 60
● 每张卡：标题+描述+3选项+数值变更+可选“梗标签”
● 必须包含：
  ○ 甲方改图
  ○ 暴雨停工
  ○ 进度款拖欠
  ○ 监理抽检
  ○ 赶工夜战
  ○ 返工事故
  ○ 领导检查

12. 风险与对策
● 刷榜：做 token + 限流 + 异常拦截（最低限）(CSDN博客)
● 分享不生效：OG 元信息配置正确 + 缩略图尺寸合规 (烧饼吹水铺)
● 海报性能：Canvas 合成要控制图片尺寸/字体加载，避免卡顿 (CSDN博客)

13. 附录：GitHub 仓库建议
● repo：civil-engineering-dream
● 分支：
  ○ main（可部署）
  ○ dev （开发）
● 部署：
  ○ GitHub Pages（前端）
  ○ 任意 Serverless（后端 API）

